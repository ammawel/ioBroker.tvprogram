{
  "version": 3,
  "sources": ["tvprogram.js"],
  "sourcesContent": ["/*\r\n    ioBroker.vis tvprogram Widget-Set\r\n\r\n    version: \"0.0.1\"\r\n\r\n    Copyright 2020 oweitman oweitman@gmx.de\r\n*/\r\n\"use strict\";\r\n\r\n/* global vis*/\r\n\r\n// add translations for edit mode\r\n\r\nfetch(\"widgets/tvprogram/i18n/translations.json\").then(async res => {\r\n    const i18n = await res.json();\r\n\r\n    $.extend(\r\n        true,\r\n        systemDictionary,\r\n        i18n\r\n    );\r\n});\r\n$.extend(\r\n    true,\r\n    systemDictionary,\r\n    {\r\n        // Add your translations here, e.g.:\r\n        // \"size\": {\r\n        // \t\"en\": \"Size\",\r\n        // \t\"de\": \"Gr\u00F6\u00DFe\",\r\n        // \t\"ru\": \"\u0420\u0430\u0437\u043C\u0435\u0440\",\r\n        // \t\"pt\": \"Tamanho\",\r\n        // \t\"nl\": \"Grootte\",\r\n        // \t\"fr\": \"Taille\",\r\n        // \t\"it\": \"Dimensione\",\r\n        // \t\"es\": \"Talla\",\r\n        // \t\"pl\": \"Rozmiar\",\r\n        // \t\"zh-cn\": \"\u5C3A\u5BF8\"\r\n        // }\r\n    }\r\n);\r\n\r\n// this code can be placed directly in tvprogram.html\r\nvis.binds[\"tvprogram\"] = {\r\n    version: \"0.0.1\",\r\n    showVersion: function () {\r\n        if (vis.binds[\"tvprogram\"].version) {\r\n            console.log(\"Version tvprogram: \" + vis.binds[\"tvprogram\"].version);\r\n            vis.binds[\"tvprogram\"].version = null;\r\n        }\r\n    },\r\n    pending: {},\r\n    categories: null,\r\n    channels: null,\r\n    genres: null,\r\n    tvprogram: [],\r\n    infos: null,\r\n    requests: [],\r\n    search: {\r\n        visTvprogram: null,\r\n        bound: {},\r\n        searchdata: [],\r\n        searchresult: [],\r\n        createWidget: function (widgetID, view, data, style) {\r\n            const $div = $(\"#\" + widgetID);\r\n            // if nothing found => wait\r\n            if (!$div.length) {\r\n                return setTimeout(function () {\r\n                    vis.binds[\"tvprogram\"].search.createWidget(widgetID, view, data, style);\r\n                }, 100);\r\n            }\r\n            console.log(\"createWidget start\");\r\n\r\n            this.visTvprogram = vis.binds[\"tvprogram\"];\r\n            let tvprogram_oid;\r\n            let instance;\r\n            if (!data.tvprogram_oid || (tvprogram_oid = vis.binds[\"tvprogram\"].getTvprogramId(data.tvprogram_oid.trim())) == false) return;\r\n            if (!data.tvprogram_oid || (instance = vis.binds[\"tvprogram\"].getInstance(data.tvprogram_oid.trim())) == false) return;\r\n\r\n            const backgroundColor = this.visTvprogram.realBackgroundColor($(\"#\" + widgetID)[0]);\r\n            if (this.visTvprogram.checkStyle(\"background-color\", $(\"#\" + widgetID)[0].style.cssText) == \"\") $(\"#\" + widgetID).css(\"background-color\", backgroundColor);\r\n\r\n            const maxresults = parseInt(data.tvprogram_maxresults) || 10;\r\n            const heightrow = parseInt(data.tvprogram_heightRow) || 35;\r\n            const broadcastfontpercent = parseInt(data.tvprogram_broadcastfontpercent) || 75;\r\n            const highlightcolor = data.tvprogram_highlightcolor || \"yellow\";\r\n            const showpictures = data.tvprogram_showpictures || false;\r\n\r\n            const dialogwidthpercent = data.tvprogram_dialogwidthpercent / 100 || 0.9;\r\n            const dialogheightpercent = data.tvprogram_dialogheightpercent / 100 || 0.9;\r\n\r\n            if (!this.searchresult[tvprogram_oid]) this.searchresult[tvprogram_oid] = {};\r\n            if (!this.searchresult[tvprogram_oid][widgetID]) this.searchresult[tvprogram_oid][widgetID] = [];\r\n\r\n            if (!this.searchdata[tvprogram_oid]) this.searchdata[tvprogram_oid] = {};\r\n            if (!this.searchdata[tvprogram_oid][widgetID]) this.searchdata[tvprogram_oid][widgetID] = {\r\n                datefrom: new Date().toISOString().split(\"T\")[0],\r\n                categoryfilter: \"\",\r\n                textfilter: \"\",\r\n                maxresults: maxresults || 10\r\n            };\r\n\r\n            if (!this.bound[tvprogram_oid]) this.bound[tvprogram_oid] = {};\r\n            if (!this.bound[tvprogram_oid][widgetID]) this.bound[tvprogram_oid][widgetID] = false;\r\n\r\n            if (tvprogram_oid && !this.bound[tvprogram_oid][widgetID]) {\r\n                // eslint-disable-next-line no-constant-condition\r\n                if (1 || !vis.editMode) {\r\n                    this.bound[tvprogram_oid][widgetID] = true;\r\n                    vis.binds[\"tvprogram\"].bindStates($div, [\r\n                        tvprogram_oid + \".config\",\r\n                        tvprogram_oid + \".favorites\",\r\n                        tvprogram_oid + \".channelfilter\",\r\n                    ], this.onChange.bind(this, widgetID, view, data, style, tvprogram_oid)\r\n                    );\r\n                }\r\n            }\r\n\r\n            if (this.infos == null) {\r\n                this.infos = {};\r\n                this.visTvprogram.getServerInfo(instance, (serverdata) => {\r\n                    this.infos = serverdata;\r\n                    this.createWidget(widgetID, view, data, style);\r\n                });\r\n            }\r\n            this.visTvprogram.loadServerInfos(instance, () => this.createWidget(widgetID, view, data, style));\r\n            this.visTvprogram.loadCategories(instance, widgetID, () => this.createWidget(widgetID, view, data, style));\r\n            this.visTvprogram.loadChannels(instance, widgetID, () => this.createWidget(widgetID, view, data, style));\r\n\r\n            if (this.visTvprogram.infos == null || !Object.prototype.hasOwnProperty.call(this.infos, \"tvprogram\")) return;\r\n            if (this.visTvprogram.categories.length == 0 || this.visTvprogram.categories[0] === \"request\") return;\r\n            if (this.visTvprogram.channels.length == 0 || this.visTvprogram.channels[0] === \"request\") return;\r\n\r\n            let categoriesoptions = this.visTvprogram.categories.map((cat) => '<option value=\"' + cat.id + '\" ' + ((this.searchdata[tvprogram_oid][widgetID].categoryfilter == cat.id) ? \" selected\" : \"\") + \">\" + cat.title + \"</option>\");\r\n            categoriesoptions = '<option value=\"\" ' + ((this.searchdata[tvprogram_oid][widgetID].categoryfilter == \"\") ? \" selected\" : \"\") + \"></option>\" + categoriesoptions;\r\n\r\n            $(\"#\" + widgetID + \"broadcastdlg\").data({\r\n                dialogwidthpercent: dialogwidthpercent,\r\n                dialogheightpercent: dialogheightpercent\r\n            });\r\n\r\n            let text = \"\";\r\n            text += \"<style> \\n\";\r\n\r\n            text += \"#\" + widgetID + \" * {\\n\";\r\n            text += \"   box-sizing: border-box; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .tv-search {\\n\";\r\n            text += \"   width: 100%; \\n\";\r\n            text += \"   height: 100%; \\n\";\r\n            text += \"   white-space:nowrap; \\n\";\r\n            text += \"   display:flex; \\n\";\r\n            text += \"   flex-direction: column; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .tv-form {\\n\";\r\n            text += \"   padding: 5px 0px; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .tv-result {\\n\";\r\n            text += \"   overflow: hidden; \\n\";\r\n            text += \"   overflow-y: auto; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .tv-row {\\n\";\r\n            text += \"   margin: 0px; \\n\";\r\n            text += \"   padding: 0px; \\n\";\r\n            text += \"   width: 100%; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .tv-search .tv-row:nth-child(odd) {\\n\";\r\n            text += \"   background-color: rgba(128,127,127,.65); \\n\";\r\n            text += \"   padding: 0px; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .tv-search .tv-row:nth-child(even) {\\n\";\r\n            text += \"   background-color: rgba(128,127,127,.55); \\n\";\r\n            text += \"   padding: 0px; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .tv-item {\\n\";\r\n            text += \"   display: inline-block; \\n\";\r\n            text += \"   vertical-align: middle; \\n\";\r\n            text += \"   border: solid #80808033; \\n\";\r\n            text += \"   border-width:1px 0px 0px 1px; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .channel {\\n\";\r\n            text += \"   width: \" + heightrow + \"px; \\n\";\r\n            text += \"   height: \" + heightrow + \"px; \\n\";\r\n            text += \"   padding: 1px; \\n\";\r\n            text += \"   background-color: \" + backgroundColor + \"; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .broadcast {\\n\";\r\n            text += \"   height: \" + heightrow + \"px; \\n\";\r\n            text += \"   padding: 3px; \\n\";\r\n            text += \"   font-size: \" + broadcastfontpercent + \"%; \\n\";\r\n            text += \"   overflow: hidden; \\n\";\r\n            text += \"   width: 100%; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .broadcastelement {\\n\";\r\n            text += \"   width: 100%; \\n\";\r\n            text += \"   height: 100%; \\n\";\r\n            text += \"   display: table-cell; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .broadcastelement .star  {\\n\";\r\n            text += \"   display: inline-block; \\n\";\r\n            text += \"   margin: 0px 2px; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .broadcastelement .star svg {\\n\";\r\n            text += \"   height: 1em; \\n\";\r\n            text += \"   width: 1em; \\n\";\r\n            text += \"   position: relative; \\n\";\r\n            text += \"   top: .125em; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .broadcastelement.selected .star svg path {\\n\";\r\n            text += \"   color: \" + highlightcolor + \"; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .broadcastelement.selected {\\n\";\r\n            text += \"   color: \" + highlightcolor + \"; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .broadcastimage {\\n\";\r\n            text += \"   height: \" + (heightrow - 7) + \"px; \\n\";\r\n            text += \"   padding-right: 3px; \\n\";\r\n            text += \"   float: left; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \".\" + widgetID + \".no-titlebar .ui-dialog-titlebar {\\n\";\r\n            text += \"   display:none; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"broadcastdlg  {\\n\";\r\n            text += \"   z-index:12; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"broadcastdlg .event-container.tv-dlg-row {\\n\";\r\n            text += \"   height:100%; \\n\";\r\n            text += \"   display:flex; \\n\";\r\n            text += \"   flex-direction:row; \\n\";\r\n            text += \"   overflow:hidden; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"broadcastdlg .event-container.tv-dlg-col {\\n\";\r\n            text += \"   height:100%; \\n\";\r\n            text += \"   display:flex; \\n\";\r\n            text += \"   flex-direction:column; \\n\";\r\n            text += \"   overflow:hidden; \\n\";\r\n            text += \"   font-size:75%; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"broadcastdlg .event-picture.tv-dlg-row {\\n\";\r\n            text += \"   width:50%; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"broadcastdlg .event-picture.tv-dlg-col {\\n\";\r\n            text += \"   height:30%; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"broadcastdlg .event-data {\\n\";\r\n            text += \"   overflow-y:auto; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"broadcastdlg .event-picture img {\\n\";\r\n            text += \"   width:auto; \\n\";\r\n            text += \"   height:auto; \\n\";\r\n            text += \"   max-width:100%; \\n\";\r\n            text += \"   max-height:100%; \\n\";\r\n            text += \"   display:block; \\n\";\r\n            text += \"   margin:auto; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"broadcastdlg .event-picture img {\\n\";\r\n            text += \"   width:auto; \\n\";\r\n            text += \"   height:auto; \\n\";\r\n            text += \"   max-width:100%; \\n\";\r\n            text += \"   max-height:100%; \\n\";\r\n            text += \"   display:block; \\n\";\r\n            text += \"   margin:auto; \\n\";\r\n            text += \"} \\n\";\r\n            text += \"#\" + widgetID + \"broadcastdlg .dialogcolumn.tv-dlg-row {\\n\";\r\n            text += \"   flex:1; \\n\";\r\n            text += \"   padding:5px; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"broadcastdlg .dialogcolumn.tv-dlg-col {\\n\";\r\n            text += \"   padding:5px; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"broadcastdlg .button {\\n\";\r\n            text += \"   display:inline-block; \\n\";\r\n            text += \"   width: 35px; \\n\";\r\n            text += \"   height: 35px; \\n\";\r\n            text += \"   vertical-align: middle; \\n\";\r\n            text += \"   position: relative; \\n\";\r\n            text += \"   float: right; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"broadcastdlg .star.selected svg  {\\n\";\r\n            text += \"   filter: drop-shadow( 2px 2px 2px rgba(0, 0, 0, .7))\\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .broadcastelement.selected .star svg path, #\" + widgetID + \"broadcastdlg .star.selected {\\n\";\r\n            text += \"   color: \" + highlightcolor + \"; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"</style> \\n\";\r\n\r\n            text += '  <div class=\"svgcontainer\">';\r\n            text += '<svg style=\"display:none;\"><symbol id=\"star-icon\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z\" /></symbol></svg>';\r\n            // to user : <svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#star-icon\"></use></svg>\r\n            text += '<svg style=\"display:none;\"><symbol id=\"copy-icon\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\" /></symbol></svg>';\r\n            // to user : <svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#copy-icon\"></use></svg>\r\n            text += '<svg style=\"display:none;\"><symbol id=\"switch-icon\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M21,3H3C1.89,3 1,3.89 1,5V17A2,2 0 0,0 3,19H8V21H16V19H21A2,2 0 0,0 23,17V5C23,3.89 22.1,3 21,3M21,17H3V5H21M16,11L9,15V7\" /></symbol></svg>';\r\n            // to user : <svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#switch-icon\"></use></svg>\r\n            text += '<svg style=\"display:none;\"><symbol id=\"record-icon\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M12.5,5A7.5,7.5 0 0,0 5,12.5A7.5,7.5 0 0,0 12.5,20A7.5,7.5 0 0,0 20,12.5A7.5,7.5 0 0,0 12.5,5M7,10H9A1,1 0 0,1 10,11V12C10,12.5 9.62,12.9 9.14,12.97L10.31,15H9.15L8,13V15H7M12,10H14V11H12V12H14V13H12V14H14V15H12A1,1 0 0,1 11,14V11A1,1 0 0,1 12,10M16,10H18V11H16V14H18V15H16A1,1 0 0,1 15,14V11A1,1 0 0,1 16,10M8,11V12H9V11\" /></symbol></svg>';\r\n            // to user : <svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#record-icon\"></use></svg>\r\n            text += \"  </div>\";\r\n\r\n            text += '  <form data-instance=\"' + instance + '\" data-dp=\"' + tvprogram_oid + '\" data-widgetid=\"' + widgetID + '\" data-maxresults=\"' + maxresults + '\" >';\r\n            text += '    <label for=\"tvsearch\">Search:';\r\n            text += '      <input name=\"tvsearch\" type=\"text\" id=\"tvsearch\" value=\"' + this.searchdata[tvprogram_oid][widgetID].textfilter + '\" placeholder=\"Search\">';\r\n            text += \"    </label>\";\r\n            text += '    <label for=\"tvfrom\">From:';\r\n            text += '      <input name=\"tvfrom\" autocomplete=\"off\"  type=\"date\" id=\"tvfrom\" min=\"' + this.infos.tvprogram[0] + '\" max=\"' + this.infos.tvprogram[this.infos.tvprogram.length - 1] + '\" value=\"' + this.searchdata[tvprogram_oid][widgetID].datefrom + '\">';\r\n            text += \"    </label>\";\r\n            text += '    <label for=\"tvcategory\">Category:';\r\n            text += '      <select name=\"tvcategory\" id=\"tvcategory\" >';\r\n            text += categoriesoptions;\r\n            text += \"      </select>\";\r\n            text += \"    </label>\";\r\n            text += \"  <button>Search</Search>\";\r\n            text += \"  </form>\";\r\n\r\n            $(\"#\" + widgetID + \" .tv-form\").html(text);\r\n            $(\"#\" + widgetID + \" .tv-form form\").submit(this.onSubmitSearch.bind(this, widgetID, view, data, style));\r\n\r\n            let favhighlight, viewdate;\r\n            text = \"\";\r\n            const favorites = this.visTvprogram.getConfigFavorites(tvprogram_oid);\r\n            this.searchresult[tvprogram_oid][widgetID].map((event, i) => {\r\n                if (i + 1 > maxresults) return;\r\n                const channel = this.visTvprogram.channels.find(ch => ch.id == event.channel);\r\n                favhighlight = (favorites.indexOf(event.title) > -1);\r\n                viewdate = event.airDate;\r\n                text += '    <ul class=\"tv-row\">';\r\n                text += '       <li class=\"tv-item channel\">';\r\n                text += '          <img width=\"100%\" height=\"100%\" data-channelid=\"' + channel.channelId + '\" data-dp=\"' + tvprogram_oid + '\" data-instance=\"' + instance + '\" src=\"https://tvfueralle.de/channel-logos/' + channel.channelId + '.png\" alt=\"\" class=\"channel-logo\"  onclick=\"vis.binds.tvprogram.onclickChannelSwitch(this,event)\">';\r\n                text += \"       </li>\";\r\n                text += '       <li class=\"tv-item broadcast\">';\r\n                text += '             <div class=\"broadcastelement ' + ((favhighlight) ? \"selected\" : \"\") + '\" data-widgetid=\"' + widgetID + '\" data-eventid=\"' + event.id + '\" data-viewdate=\"' + viewdate + '\" data-instance=\"' + instance + '\" data-dp=\"' + tvprogram_oid + '\" data-view=\"\" >';\r\n                if (event.photo.url && showpictures) {\r\n                    text += '<div><img class=\"broadcastimage\" src=\"' + \"https://tvfueralle.de\" + event.photo.url + '\"></div>';\r\n                }\r\n                text += '                 <div class=\"broadcasttitle\">';\r\n                text += \"                     \" + event.title;\r\n                text += '                     <div class=\"star\" data-viewdate=\"' + viewdate + '\" data-eventid=\"' + event.id + '\" data-instance=\"' + instance + '\" data-dp=\"' + tvprogram_oid + '\" onclick=\"return vis.binds.tvprogram.onclickFavorite(this,event)\"><svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#star-icon\"></use></svg></div>';\r\n                text += \"                 </div>\";\r\n                const startTime = new Date(event.startTime);\r\n                const endTime = new Date(event.endTime);\r\n                text += '                 <div class=\"broadcasttime\">';\r\n                text += (\"0\" + startTime.getDate()).slice(-2) + \".\" + (\"0\" + parseInt(startTime.getMonth() + 1)).slice(-2) + \".\" + (\"0\" + startTime.getFullYear()).slice(-4) + \" \";\r\n                text += (\"0\" + startTime.getHours()).slice(-2) + \":\" + (\"0\" + startTime.getMinutes()).slice(-2);\r\n                text += \" - \";\r\n                text += (\"0\" + endTime.getHours()).slice(-2) + \":\" + (\"0\" + endTime.getMinutes()).slice(-2);\r\n                text += \"                 </div>\";\r\n                text += \"             </div>\";\r\n                text += \"       </li>\";\r\n                text += \"    </ul>\";\r\n            });\r\n            $(\"#\" + widgetID + \" .tv-result\").html(text);\r\n            $(\"#\" + widgetID + \" .tv-result .broadcastelement\").click(vis.binds.tvprogram.onclickBroadcast.bind(this.visTvprogram));\r\n        },\r\n        onSubmitSearch: function (widgetID, view, data, style, evt) {\r\n            const el = evt.target;\r\n            const instance = el.dataset.instance || \"\";\r\n            const tvprogram_oid = el.dataset.dp || \"\";\r\n            //const maxresults = el.dataset.maxresults||10;\r\n            evt.preventDefault();\r\n            const isearch = $(el).find('[name=\"tvsearch\"]').val();\r\n            const icategory = $(el).find('[name=\"tvcategory\"]').val();\r\n            const ifrom = $(el).find('[name=\"tvfrom\"]').val();\r\n            if (!this.parseDatestring(ifrom)) {\r\n                return false;\r\n            }\r\n            let channelfilter = this.visTvprogram.getConfigChannelfilter(tvprogram_oid);\r\n            if (channelfilter.length == 0) channelfilter = this.visTvprogram.channels.reduce((acc, el, i) => { if (i < 4) acc.push(el.id); return acc; }, []);\r\n\r\n            if (!this.searchdata[tvprogram_oid]) this.searchdata[tvprogram_oid] = {};\r\n            this.searchdata[tvprogram_oid][widgetID] = Object.assign(this.searchdata[tvprogram_oid][widgetID], {\r\n                datefrom: ifrom,\r\n                categoryfilter: [icategory],\r\n                textfilter: isearch\r\n            });\r\n            const today = new Date();\r\n            const dFrom = this.parseDatestring(ifrom);\r\n            if (today.getDate() == dFrom.getDate() && today.getMonth() == dFrom.getMonth() && today.getFullYear() == dFrom.getFullYear()) {\r\n                dFrom.setHours(today.getHours());\r\n                dFrom.setMinutes(today.getMinutes());\r\n                dFrom.setSeconds(today.getSeconds());\r\n            } else {\r\n                dFrom.setHours(0);\r\n                dFrom.setMinutes(0);\r\n                dFrom.setSeconds(0);\r\n            }\r\n            const dTill = new Date(today);\r\n            dTill.setDate(dTill.getDate() + 10);\r\n\r\n            const obj = {\r\n                channelfilter: channelfilter,\r\n                datefrom: dFrom,\r\n                datetill: dTill,\r\n                categoryfilter: (icategory == \"\") ? [] : [parseInt(icategory)],\r\n                textfilter: isearch,\r\n                maxresults: this.searchdata[tvprogram_oid][widgetID].maxresults\r\n            };\r\n            if (isearch == \"\" && icategory == \"\") return false;\r\n            this.visTvprogram.getServerBroadcastFind(instance, obj, function (serverdata) {\r\n                this.searchresult[tvprogram_oid][widgetID] = serverdata;\r\n                this.createWidget(widgetID, view, data, style);\r\n            }.bind(this));\r\n            return false;\r\n        },\r\n        parseDatestring: function (datestring) {\r\n            const b = datestring.split(/\\D/);\r\n            const d = new Date(b[0], --b[1], b[2]);\r\n            return d && d.getMonth() == b[1] ? d : false;\r\n        },\r\n        onChange: function (widgetID, view, data, style, tvprogram_oid, e, newVal) {\r\n            const dp = e.type.split(\".\");\r\n            if ((dp[3] == \"config\" || dp[3] == \"favorites\" || dp[3] == \"channelfilter\" || dp[3] == \"show\") && dp[4] == \"val\") {\r\n                console.log(\"changed \" + widgetID + \" type:\" + e.type + \" val:\" + newVal);\r\n                this.createWidget(widgetID, view, data, style);\r\n            }\r\n        },\r\n    },\r\n    control: {\r\n        visTvprogram: null,\r\n        bound: {},\r\n        programdata: {},\r\n\r\n        favorites: undefined,\r\n        timer: {},\r\n        createWidget: function (widgetID, view, data, style) {\r\n            const $div = $(\"#\" + widgetID);\r\n            // if nothing found => wait\r\n            if (!$div.length) {\r\n                return setTimeout(function () {\r\n                    vis.binds[\"tvprogram\"].control.createWidget(widgetID, view, data, style);\r\n                }, 100);\r\n            }\r\n            console.log(\"createWidget control start\");\r\n\r\n            this.visTvprogram = vis.binds[\"tvprogram\"];\r\n            let tvprogram_oid;\r\n            let instance;\r\n            if (!data.tvprogram_oid || (tvprogram_oid = vis.binds[\"tvprogram\"].getTvprogramId(data.tvprogram_oid.trim())) == false) return;\r\n            if (!data.tvprogram_oid || (instance = vis.binds[\"tvprogram\"].getInstance(data.tvprogram_oid.trim())) == false) return;\r\n\r\n            this.visTvprogram.loadCategories(instance, widgetID, () => this.createWidget(widgetID, view, data, style));\r\n            this.visTvprogram.loadChannels(instance, widgetID, () => this.createWidget(widgetID, view, data, style));\r\n\r\n            if (this.visTvprogram.channels.length == 0 || this.visTvprogram.channels[0] === \"request\" || this.visTvprogram.categories.length == 0 || this.visTvprogram.categories[0] === \"request\") {\r\n                //this.createWidget(widgetID, view, data, style);\r\n                return;\r\n                /*\r\n                return setTimeout(function () {\r\n                    vis.binds[\"tvprogram\"].control.createWidget(widgetID, view, data, style);\r\n                }, 100);\r\n                */\r\n            }\r\n            //if (this.visTvprogram.categories.length==0) return;\r\n\r\n            const backgroundColor = this.visTvprogram.realBackgroundColor($(\"#\" + widgetID)[0]);\r\n            if (this.visTvprogram.checkStyle(\"background-color\", $(\"#\" + widgetID)[0].style.cssText) == \"\") $(\"#\" + widgetID).css(\"background-color\", backgroundColor);\r\n\r\n            let channelfilter = this.visTvprogram.getConfigChannelfilter(tvprogram_oid);\r\n            if (channelfilter.length == 0) channelfilter = this.visTvprogram.channels.reduce((acc, el, i) => { if (i < 4) acc.push(el.id); return acc; }, []);\r\n\r\n            //const favorites = this.visTvprogram.getConfigFavorites(tvprogram_oid);\r\n\r\n            const time = data.tvprogram_time || \"\";\r\n\r\n            if (!this.programdata[tvprogram_oid]) this.programdata[tvprogram_oid] = {};\r\n            if (!this.programdata[tvprogram_oid][widgetID]) {\r\n                this.programdata[tvprogram_oid][widgetID] = [];\r\n                if (time == \"\") {\r\n                    if (Object.keys(this.programdata[tvprogram_oid][widgetID]).length == 0 || this.programdata[tvprogram_oid][widgetID].some(el => new Date(el.endTime) <= new Date())) this.visTvprogram.getServerBroadcastNow(instance, channelfilter, function (widgetID, view, data, style, serverdata) {\r\n                        this.programdata[tvprogram_oid][widgetID] = serverdata;\r\n                        if (this.programdata[tvprogram_oid][widgetID].length > 0) this.createWidget(widgetID, view, data, style);\r\n                    }.bind(this, widgetID, view, data, style));\r\n                } else {\r\n                    if (Object.keys(this.programdata[tvprogram_oid][widgetID]).length == 0 || this.programdata[tvprogram_oid][widgetID].some(el => new Date(el.endTime) <= new Date())) this.visTvprogram.getServerBroadcastDate(instance, channelfilter, this.parseTime(time), function (widgetID, view, data, style, serverdata) {\r\n                        this.programdata[tvprogram_oid][widgetID] = serverdata;\r\n                        if (this.programdata[tvprogram_oid][widgetID].length > 0) this.createWidget(widgetID, view, data, style);\r\n                    }.bind(this, widgetID, view, data, style));\r\n                }\r\n            }\r\n\r\n\r\n            if (this.programdata[tvprogram_oid][widgetID] == \"error\") return;\r\n\r\n            if (!this.bound[tvprogram_oid]) this.bound[tvprogram_oid] = {};\r\n            if (!this.bound[tvprogram_oid][widgetID]) this.bound[tvprogram_oid][widgetID] = false;\r\n\r\n            if (tvprogram_oid && !this.bound[tvprogram_oid][widgetID]) {\r\n                // eslint-disable-next-line no-constant-condition\r\n                if (1 || !vis.editMode) {\r\n                    this.bound[tvprogram_oid][widgetID] = true;\r\n                    vis.binds[\"tvprogram\"].bindStates($div, [\r\n                        tvprogram_oid + \".config\",\r\n                        tvprogram_oid + \".favorites\",\r\n                        tvprogram_oid + \".channelfilter\",\r\n                    ], this.onChange.bind(this, widgetID, view, data, style, tvprogram_oid)\r\n                    );\r\n                }\r\n            }\r\n\r\n            const viewdate = this.visTvprogram.getDate(this.visTvprogram.calcDate(this.parseTime(time)), 0);\r\n\r\n            const heightrow = parseInt(data.tvprogram_heightRow) || 35;\r\n            const broadcastfontpercent = parseInt(data.tvprogram_broadcastfontpercent) || 75;\r\n            const highlightcolor = data.tvprogram_highlightcolor || \"yellow\";\r\n            const showpictures = data.tvprogram_showpictures || false;\r\n\r\n            const dialogwidthpercent = data.tvprogram_dialogwidthpercent / 100 || 0.9;\r\n            const dialogheightpercent = data.tvprogram_dialogheightpercent / 100 || 0.9;\r\n            $(\"#\" + widgetID + \"broadcastdlg\").data({\r\n                dialogwidthpercent: dialogwidthpercent,\r\n                dialogheightpercent: dialogheightpercent\r\n            });\r\n\r\n            let text = \"\";\r\n            text += \"<style> \\n\";\r\n\r\n            text += \"#\" + widgetID + \" * {\\n\";\r\n            text += \"   box-sizing: border-box; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .tv-control {\\n\";\r\n            text += \"   width: 100%; \\n\";\r\n            text += \"   height: 100%; \\n\";\r\n            text += \"   white-space:nowrap; \\n\";\r\n            text += \"   display:flex; \\n\";\r\n            text += \"   flex-direction: column; \\n\";\r\n            text += \"   overflow: hidden; \\n\";\r\n            text += \"   overflow-y: auto; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .tv-row {\\n\";\r\n            text += \"   margin: 0px; \\n\";\r\n            text += \"   padding: 0px; \\n\";\r\n            text += \"   width: 100%; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .tv-control .tv-row:nth-child(odd) {\\n\";\r\n            text += \"   background-color: rgba(128,127,127,.65); \\n\";\r\n            text += \"   padding: 0px; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .tv-control .tv-row:nth-child(even) {\\n\";\r\n            text += \"   background-color: rgba(128,127,127,.55); \\n\";\r\n            text += \"   padding: 0px; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .tv-item {\\n\";\r\n            text += \"   display: inline-block; \\n\";\r\n            text += \"   vertical-align: middle; \\n\";\r\n            text += \"   border: solid #80808033; \\n\";\r\n            text += \"   border-width:1px 0px 0px 1px; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .channel {\\n\";\r\n            text += \"   width: \" + heightrow + \"px; \\n\";\r\n            text += \"   height: \" + heightrow + \"px; \\n\";\r\n            text += \"   padding: 1px; \\n\";\r\n            text += \"   background-color: \" + backgroundColor + \"; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .broadcast {\\n\";\r\n            text += \"   height: \" + heightrow + \"px; \\n\";\r\n            text += \"   padding: 3px; \\n\";\r\n            text += \"   font-size: \" + broadcastfontpercent + \"%; \\n\";\r\n            text += \"   overflow: hidden; \\n\";\r\n            text += \"   width: 100%; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .broadcastelement {\\n\";\r\n            text += \"   width: 100%; \\n\";\r\n            text += \"   height: 100%; \\n\";\r\n            text += \"   display: table-cell; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .broadcastelement .star  {\\n\";\r\n            text += \"   display: inline-block; \\n\";\r\n            text += \"   margin: 0px 2px; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .broadcastelement .star svg {\\n\";\r\n            text += \"   height: 1em; \\n\";\r\n            text += \"   width: 1em; \\n\";\r\n            text += \"   position: relative; \\n\";\r\n            text += \"   top: .125em; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .broadcastelement.selected .star svg path {\\n\";\r\n            text += \"   color: \" + highlightcolor + \"; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .broadcastelement.selected {\\n\";\r\n            text += \"   color: \" + highlightcolor + \"; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .broadcastimage {\\n\";\r\n            text += \"   height: \" + (heightrow - 7) + \"px; \\n\";\r\n            text += \"   padding-right: 3px; \\n\";\r\n            text += \"   float: left; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \".\" + widgetID + \".no-titlebar .ui-dialog-titlebar {\\n\";\r\n            text += \"   display:none; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"broadcastdlg  {\\n\";\r\n            text += \"   z-index:12; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"broadcastdlg .event-container.tv-dlg-row {\\n\";\r\n            text += \"   height:100%; \\n\";\r\n            text += \"   display:flex; \\n\";\r\n            text += \"   flex-direction:row; \\n\";\r\n            text += \"   overflow:hidden; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"broadcastdlg .event-container.tv-dlg-col {\\n\";\r\n            text += \"   height:100%; \\n\";\r\n            text += \"   display:flex; \\n\";\r\n            text += \"   flex-direction:column; \\n\";\r\n            text += \"   overflow:hidden; \\n\";\r\n            text += \"   font-size:75%; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"broadcastdlg .event-picture.tv-dlg-row {\\n\";\r\n            text += \"   width:50%; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"broadcastdlg .event-picture.tv-dlg-col {\\n\";\r\n            text += \"   height:30%; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"broadcastdlg .event-data {\\n\";\r\n            text += \"   overflow-y:auto; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"broadcastdlg .event-picture img {\\n\";\r\n            text += \"   width:auto; \\n\";\r\n            text += \"   height:auto; \\n\";\r\n            text += \"   max-width:100%; \\n\";\r\n            text += \"   max-height:100%; \\n\";\r\n            text += \"   display:block; \\n\";\r\n            text += \"   margin:auto; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"broadcastdlg .event-picture img {\\n\";\r\n            text += \"   width:auto; \\n\";\r\n            text += \"   height:auto; \\n\";\r\n            text += \"   max-width:100%; \\n\";\r\n            text += \"   max-height:100%; \\n\";\r\n            text += \"   display:block; \\n\";\r\n            text += \"   margin:auto; \\n\";\r\n            text += \"} \\n\";\r\n            text += \"#\" + widgetID + \"broadcastdlg .dialogcolumn.tv-dlg-row {\\n\";\r\n            text += \"   flex:1; \\n\";\r\n            text += \"   padding:5px; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"broadcastdlg .dialogcolumn.tv-dlg-col {\\n\";\r\n            text += \"   padding:5px; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"broadcastdlg .button {\\n\";\r\n            text += \"   display:inline-block; \\n\";\r\n            text += \"   width: 35px; \\n\";\r\n            text += \"   height: 35px; \\n\";\r\n            text += \"   vertical-align: middle; \\n\";\r\n            text += \"   position: relative; \\n\";\r\n            text += \"   float: right; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"broadcastdlg .star.selected svg  {\\n\";\r\n            text += \"   filter: drop-shadow( 2px 2px 2px rgba(0, 0, 0, .7))\\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .broadcastelement.selected .star svg path, #\" + widgetID + \"broadcastdlg .star.selected {\\n\";\r\n            text += \"   color: \" + highlightcolor + \"; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"</style> \\n\";\r\n\r\n            text += '  <div class=\"svgcontainer\">';\r\n            text += '<svg style=\"display:none;\"><symbol id=\"star-icon\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z\" /></symbol></svg>';\r\n            // to user : <svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#star-icon\"></use></svg>\r\n            text += '<svg style=\"display:none;\"><symbol id=\"copy-icon\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\" /></symbol></svg>';\r\n            // to user : <svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#copy-icon\"></use></svg>\r\n            text += '<svg style=\"display:none;\"><symbol id=\"switch-icon\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M21,3H3C1.89,3 1,3.89 1,5V17A2,2 0 0,0 3,19H8V21H16V19H21A2,2 0 0,0 23,17V5C23,3.89 22.1,3 21,3M21,17H3V5H21M16,11L9,15V7\" /></symbol></svg>';\r\n            // to user : <svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#switch-icon\"></use></svg>\r\n            text += '<svg style=\"display:none;\"><symbol id=\"record-icon\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M12.5,5A7.5,7.5 0 0,0 5,12.5A7.5,7.5 0 0,0 12.5,20A7.5,7.5 0 0,0 20,12.5A7.5,7.5 0 0,0 12.5,5M7,10H9A1,1 0 0,1 10,11V12C10,12.5 9.62,12.9 9.14,12.97L10.31,15H9.15L8,13V15H7M12,10H14V11H12V12H14V13H12V14H14V15H12A1,1 0 0,1 11,14V11A1,1 0 0,1 12,10M16,10H18V11H16V14H18V15H16A1,1 0 0,1 15,14V11A1,1 0 0,1 16,10M8,11V12H9V11\" /></symbol></svg>';\r\n            // to user : <svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#record-icon\"></use></svg>\r\n            text += \"  </div>\";\r\n\r\n            let favhighlight;\r\n            const favorites = this.visTvprogram.getConfigFavorites(tvprogram_oid);\r\n\r\n            this.programdata[tvprogram_oid][widgetID].map(ch => {\r\n                ch.events.map(event => {\r\n                    const channel = this.visTvprogram.channels.find(ch => ch.id == event.channel);\r\n                    favhighlight = (favorites.indexOf(event.title) > -1);\r\n                    text += '    <ul class=\"tv-row\">';\r\n                    text += '       <li class=\"tv-item channel\">';\r\n                    text += '          <img width=\"100%\" height=\"100%\" data-channelid=\"' + channel.channelId + '\" data-dp=\"' + tvprogram_oid + '\" src=\"https://tvfueralle.de/channel-logos/' + channel.channelId + '.png\" alt=\"\" class=\"channel-logo\"  onclick=\"vis.binds.tvprogram.onclickChannelSwitch(this,event)\">';\r\n                    text += \"       </li>\";\r\n                    text += '       <li class=\"tv-item broadcast\">';\r\n                    text += '             <div class=\"broadcastelement ' + ((favhighlight) ? \"selected\" : \"\") + '\" data-widgetid=\"' + widgetID + '\" data-eventid=\"' + event.id + '\" data-viewdate=\"' + viewdate + '\" data-instance=\"' + instance + '\" data-dp=\"' + tvprogram_oid + '\" data-view=\"' + view + '\" onclick=\"vis.binds.tvprogram.onclickBroadcast(this)\">';\r\n                    if (event.photo.url && showpictures) {\r\n                        text += '<div><img class=\"broadcastimage\" src=\"' + \"https://tvfueralle.de\" + event.photo.url + '\"></div>';\r\n                    }\r\n                    text += '                 <div class=\"broadcasttitle\">';\r\n                    text += \"                     \" + event.title;\r\n                    text += '                     <div class=\"star\" data-viewdate=\"' + viewdate + '\" data-eventid=\"' + event.id + '\" data-instance=\"' + instance + '\" data-dp=\"' + tvprogram_oid + '\" onclick=\"return vis.binds.tvprogram.onclickFavorite(this,event)\"><svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#star-icon\"></use></svg></div>';\r\n                    text += \"                 </div>\";\r\n                    const startTime = new Date(event.startTime);\r\n                    const endTime = new Date(event.endTime);\r\n                    text += '                 <div class=\"broadcasttime\">';\r\n                    text += (\"0\" + startTime.getHours()).slice(-2) + \":\" + (\"0\" + startTime.getMinutes()).slice(-2);\r\n                    text += \" - \";\r\n                    text += (\"0\" + endTime.getHours()).slice(-2) + \":\" + (\"0\" + endTime.getMinutes()).slice(-2);\r\n                    text += \"                 </div>\";\r\n                    text += \"             </div>\";\r\n                    text += \"       </li>\";\r\n                    text += \"    </ul>\";\r\n                });\r\n            });\r\n            $(\"#\" + widgetID + \" .tv-control\").html(text);\r\n            if (!this.timer[widgetID]) {\r\n                this.timer[widgetID] = setInterval(() => {\r\n                    const programdata = this.programdata[tvprogram_oid][widgetID].reduce((acc, el) => { acc.push(el.events[0]); return acc; }, []);\r\n                    if (programdata.some(el => new Date(el.endTime) <= new Date())) {\r\n                        this.programdata[tvprogram_oid][widgetID] = [];\r\n                        vis.binds[\"tvprogram\"].control.createWidget(widgetID, view, data, style);\r\n                    }\r\n                }, 1000 * 60);\r\n            } else {\r\n                clearInterval(this.timer[widgetID]);\r\n                this.timer[widgetID] = setInterval(() => {\r\n                    const programdata = this.programdata[tvprogram_oid][widgetID].reduce((acc, el) => { acc.push(el.events[0]); return acc; }, []);\r\n                    if (programdata.some(el => new Date(el.endTime) <= new Date())) {\r\n                        this.programdata[tvprogram_oid][widgetID] = [];\r\n                        vis.binds[\"tvprogram\"].control.createWidget(widgetID, view, data, style);\r\n                    }\r\n                }, 1000 * 60);\r\n            }\r\n        },\r\n        parseTime: function (time) {\r\n            const date = new Date(time);\r\n            if (date instanceof Date && !isNaN(date)) return date;\r\n            if (time == \"\") return new Date();\r\n            let iTime = time.split(\"/\");\r\n            let duration = 120;\r\n            if (iTime.length > 1 && parseInt(iTime[1].trim()) > 0) duration = parseInt(iTime[1].trim());\r\n            iTime = iTime[0].split(\":\");\r\n            const endDate = new Date();\r\n            endDate.setHours(parseInt(iTime[0]));\r\n            endDate.setMinutes(parseInt(iTime[1]));\r\n            endDate.setSeconds(0);\r\n            const startDate = new Date(endDate);\r\n            endDate.setMinutes(endDate.getMinutes() + duration);\r\n            if (new Date() < endDate) {\r\n                return startDate;\r\n            } else {\r\n                return startDate.setDate(startDate.getDate() + 1);\r\n            }\r\n        },\r\n        onChange: function (widgetID, view, data, style, tvprogram_oid, e, newVal) {\r\n            const dp = e.type.split(\".\");\r\n            if ((dp[3] == \"config\" || dp[3] == \"favorites\" || dp[3] == \"channelfilter\" || dp[3] == \"show\") && dp[4] == \"val\") {\r\n                console.log(\"changed \" + widgetID + \" type:\" + e.type + \" val:\" + newVal);\r\n                this.tvprogram = [];\r\n                this.createWidget(widgetID, view, data, style);\r\n            }\r\n        },\r\n    },\r\n    favorites: {\r\n        visTvprogram: null,\r\n        pending: {},\r\n        bound: {},\r\n        favorites: undefined,\r\n        timer: {},\r\n        createWidget: function (widgetID, view, data, style) {\r\n            const $div = $(\"#\" + widgetID);\r\n            // if nothing found => wait\r\n            if (!$div.length) {\r\n                return setTimeout(function () {\r\n                    vis.binds[\"tvprogram\"].favorites.createWidget(widgetID, view, data, style);\r\n                }, 100);\r\n            }\r\n            console.log(\"createWidget start\");\r\n\r\n            this.visTvprogram = vis.binds[\"tvprogram\"];\r\n\r\n            const showweekday = data.tvprogram_showweekday || false;\r\n            const maxfavorites = data.tvprogram_maxfavorites || 10;\r\n            const highlightcolor = data.tvprogram_highlightcolor || \"yellow\";\r\n            const channelname = data.tvprogram_channelname || false;\r\n\r\n            let tvprogram_oid;\r\n            let instance;\r\n\r\n            const weekday_options = { weekday: \"short\" };\r\n            const date_options = { month: \"2-digit\", day: \"2-digit\" };\r\n            const time_options = { hour: \"2-digit\", minute: \"2-digit\" };\r\n\r\n            if (!data.tvprogram_oid || (tvprogram_oid = vis.binds[\"tvprogram\"].getTvprogramId(data.tvprogram_oid.trim())) == false) return;\r\n            if (!data.tvprogram_oid || (instance = vis.binds[\"tvprogram\"].getInstance(data.tvprogram_oid.trim())) == false) return;\r\n\r\n            const backgroundColor = this.visTvprogram.realBackgroundColor($(\"#\" + widgetID)[0]);\r\n            if (this.visTvprogram.checkStyle(\"background-color\", $(\"#\" + widgetID)[0].style.cssText) == \"\") $(\"#\" + widgetID).css(\"background-color\", backgroundColor);\r\n\r\n            if (!this.bound[tvprogram_oid]) this.bound[tvprogram_oid] = {};\r\n            if (!this.bound[tvprogram_oid][widgetID]) this.bound[tvprogram_oid][widgetID] = false;\r\n\r\n            if (tvprogram_oid && !this.bound[tvprogram_oid][widgetID]) {\r\n                // eslint-disable-next-line no-constant-condition\r\n                if (1 || !vis.editMode) {\r\n                    this.bound[tvprogram_oid][widgetID] = true;\r\n                    vis.binds[\"tvprogram\"].bindStates($div, [\r\n                        tvprogram_oid + \".config\",\r\n                        tvprogram_oid + \".favorites\",\r\n                    ], this.onChange.bind(this, widgetID, view, data, style, tvprogram_oid)\r\n                    );\r\n                }\r\n            }\r\n\r\n            const favorites = this.visTvprogram.getConfigFavorites(tvprogram_oid);\r\n\r\n            if (!this.favorites || !this.favorites[tvprogram_oid] && favorites) this.visTvprogram.getFavoritesData(instance, favorites, function (widgetID, view, data, style, tvprogram_oid, serverdata) {\r\n                if (!this.favorites) this.favorites = [];\r\n                this.favorites[tvprogram_oid] = serverdata;\r\n                this.createWidget(widgetID, view, data, style);\r\n            }.bind(this, widgetID, view, data, style, tvprogram_oid));\r\n            if (!this.favorites || !this.favorites[tvprogram_oid]) return;\r\n\r\n            let text = \"\";\r\n            text += \"<style> \\n\";\r\n            text += \"#\" + widgetID + \" .tv-fav {\\n\";\r\n            text += \"   width: 100%;\\n\";\r\n            text += \"} \\n\";\r\n            text += \"#\" + widgetID + \" .tv-fav td{\\n\";\r\n            text += \"   white-space: nowrap;\\n\";\r\n            text += \"} \\n\";\r\n            text += \"#\" + widgetID + \" .tv-left {\\n\";\r\n            text += \"   text-align: left;\\n\";\r\n            text += \"   width: 1%;\\n\";\r\n            text += \"} \\n\";\r\n            text += \"#\" + widgetID + \" .tv-full {\\n\";\r\n            text += \"   width: 50%;\\n\";\r\n            text += \"} \\n\";\r\n            text += \"#\" + widgetID + \" .tv-fav .star {\\n\";\r\n            text += \"   width: 1em;\\n\";\r\n            text += \"   height: 1em;\\n\";\r\n            text += \"   color: \" + highlightcolor + \"; \\n\";\r\n            text += \"} \\n\";\r\n            text += \"#\" + widgetID + \" .tv-center {\\n\";\r\n            text += \"   text-align: center;\\n\";\r\n            text += \"   width: 1%;\\n\";\r\n            text += \"} \\n\";\r\n            text += \"#\" + widgetID + \" .tv-icon {\\n\";\r\n            text += \"   height: 1em; \\n\";\r\n            text += \"   width: 1em; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"</style> \\n\";\r\n\r\n            text += '  <div class=\"svgcontainer\">';\r\n            text += '<svg style=\"display:none;\"><symbol id=\"star-icon\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z\" /></symbol></svg>';\r\n            // to user : <svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#star-icon\"></use></svg>\r\n            text += \"  </div>\";\r\n\r\n            text += '<table class=\"tv-fav\">';\r\n            this.favorites[tvprogram_oid] = this.favorites[tvprogram_oid].filter((el) => new Date(el.endTime) >= new Date());\r\n            this.favorites[tvprogram_oid].forEach(function (favorite, index) {\r\n                const today = new Date();\r\n                const startTime = new Date(favorite.startTime);\r\n                const endTime = new Date(favorite.endTime);\r\n                if (index < maxfavorites) {\r\n                    (vis.binds[\"tvprogram\"].compareDate(today, startTime)) ? text += '        <tr class=\"tv-today\">' : text += \"        <tr>\";\r\n                    text += '<td class=\"tv-left\" data-viewdate=\"' + favorite.viewdate + '\" data-eventid=\"' + favorite.id + '\" data-instance=\"' + instance + '\" data-dp=\"' + tvprogram_oid + '\" onclick=\"return vis.binds.tvprogram.onclickFavorite(this,event)\"><div class=\"star\"><svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#star-icon\"></use></svg></div></td>';\r\n                    if (showweekday) text += '           <td class=\"tv-left\">' + startTime.toLocaleString(vis.language, weekday_options) + \"</td>\";\r\n                    text += '           <td class=\"tv-left\">' + startTime.toLocaleString(vis.language, date_options) + \"</td>\";\r\n                    text += '           <td class=\"tv-left\">' + startTime.toLocaleString(vis.language, time_options) + \"</td>\";\r\n                    text += '           <td class=\"tv-left\">-</td>';\r\n                    text += '           <td class=\"tv-left\">' + endTime.toLocaleString(vis.language, time_options) + \"</td>\";\r\n                    if (channelname) {\r\n                        text += '           <td class=\"tv-left\">' + favorite.channelname + \"</td>\";\r\n                    } else {\r\n                        text += '           <td class=\"tv-center tv-tdicon\">';\r\n                        text += '              <img width=\"100%\" height=\"100%\" src=\"https://tvfueralle.de/channel-logos/' + favorite.channelid + '.png\" alt=\"\" class=\"tv-icon\">';\r\n                        text += \"           </td>\";\r\n                    }\r\n                    text += '           <td class=\"tv-full\">' + favorite.title + \"</td>\";\r\n                    text += \"        </tr>\";\r\n                }\r\n            });\r\n            text += \"</table>            \";\r\n\r\n            $(\"#\" + widgetID).html(text);\r\n            if (!this.timer[widgetID]) {\r\n                this.timer[widgetID] = setInterval(vis.binds[\"tvprogram\"].favorites.createWidget.bind(this, widgetID, view, data, style), 1000 * 60);\r\n            } else {\r\n                clearInterval(this.timer[widgetID]);\r\n                this.timer[widgetID] = setInterval(vis.binds[\"tvprogram\"].favorites.createWidget.bind(this, widgetID, view, data, style), 1000 * 60);\r\n            }\r\n        },\r\n        onChange: function (widgetID, view, data, style, tvprogram_oid, e, newVal) {\r\n            const dp = e.type.split(\".\");\r\n            if ((dp[3] == \"config\" || dp[3] == \"favorites\" || dp[3] == \"channelfilter\" || dp[3] == \"show\") && dp[4] == \"val\") {\r\n                console.log(\"changed \" + widgetID + \" type:\" + e.type + \" val:\" + newVal);\r\n                this.favorites = [];\r\n                this.createWidget(widgetID, view, data, style);\r\n            }\r\n        },\r\n    },\r\n    time1: {\r\n        visTvprogram: null,\r\n        tvprogram: {},\r\n        bound: {},\r\n        timer: {},\r\n        pending: {},\r\n        measures: {},\r\n        scroll: {},\r\n        today: {},\r\n        viewday: {},\r\n        olddata: {},\r\n        createWidget: function (widgetID, view, data, style) {\r\n            const $div = $(\"#\" + widgetID);\r\n            // if nothing found => wait\r\n            if (!$div.length) {\r\n                return setTimeout(function () {\r\n                    vis.binds[\"tvprogram\"].time1.createWidget(widgetID, view, data, style);\r\n                }, 100);\r\n            }\r\n            console.log(\"createWidget start \" + widgetID);\r\n            let tvprogram_oid;\r\n            let instance;\r\n\r\n\r\n            this.visTvprogram = vis.binds[\"tvprogram\"];\r\n            if (!data.tvprogram_oid || (tvprogram_oid = vis.binds[\"tvprogram\"].getTvprogramId(data.tvprogram_oid.trim())) == false) return;\r\n            if (!data.tvprogram_oid || (instance = vis.binds[\"tvprogram\"].getInstance(data.tvprogram_oid.trim())) == false) return;\r\n\r\n            const highlightcolor = data.tvprogram_highlightcolor || \"yellow\";\r\n            if (!this.olddata[widgetID]) this.olddata[widgetID] = data;\r\n            if (!this.measures[widgetID] || (JSON.stringify(this.olddata[widgetID]) != JSON.stringify(data))) this.measures[widgetID] = {\r\n                origwidthItem: parseInt(data.tvprogram_widthItem) || 120,\r\n                timeItem: 30,\r\n                heightRow: parseInt(data.tvprogram_heightRow) || 35,\r\n                scrollbarWidth: this.getScrollbarWidth(),\r\n                markerpositionpercent: data.tvprogram_markerpositionpercent / 100 || 0.25,\r\n                dialogwidthpercent: data.tvprogram_dialogwidthpercent / 100 || 0.9,\r\n                dialogheightpercent: data.tvprogram_dialogheightpercent / 100 || 0.9,\r\n                showpictures: data.tvprogram_showpictures || false,\r\n            };\r\n            $(\"#\" + widgetID + \"broadcastdlg\").data({\r\n                dialogwidthpercent: this.measures[widgetID].dialogwidthpercent,\r\n                dialogheightpercent: this.measures[widgetID].dialogheightpercent\r\n            });\r\n            if (!this.measures[widgetID].widthItem) this.measures[widgetID].widthItem = this.measures[widgetID].origwidthItem;\r\n\r\n            if (!((this.today || {})[widgetID] || {}).prevday) $(\"#\" + widgetID + \" .tv-container\").html(\"Datapoints loading...\");\r\n\r\n            this.visTvprogram.loadCategories(instance, widgetID, () => this.createWidget(widgetID, view, data, style));\r\n            this.visTvprogram.loadChannels(instance, widgetID, () => this.createWidget(widgetID, view, data, style));\r\n            this.visTvprogram.loadGenres(instance, widgetID, () => this.createWidget(widgetID, view, data, style));\r\n\r\n            function check(prop) {\r\n                if (!prop) return true;\r\n                if (Object.keys(prop) == 0) return true;\r\n                return false;\r\n            }\r\n\r\n            if (!this.today[widgetID]) this.today[widgetID] = { today: new Date(), prevday: null };\r\n            if (!this.scroll[widgetID]) this.scroll[widgetID] = { time: new Date(0), position: 0, marker: 0, timeout: null, automatic: 0 };\r\n\r\n            const d = this.visTvprogram.calcDate(this.today[widgetID].today);\r\n            const datestring = this.visTvprogram.getDate(d, 0);\r\n            if (!this.viewday[widgetID]) this.viewday[widgetID] = { viewday: datestring, prevday: null };\r\n            this.viewday[widgetID].viewday = datestring;\r\n\r\n            const viewdate = this.visTvprogram.getDate(d, 0);\r\n\r\n            if (check(this.tvprogram[datestring])) {\r\n                this.visTvprogram.loadProgram(instance, widgetID, datestring, (datestring, serverdata) => {\r\n                    if (serverdata != \"error\" && serverdata != \"nodata\") {\r\n                        this.createWidget(widgetID, view, data, style);\r\n                        return;\r\n                    } else {\r\n                        if (this.today[widgetID][\"prevday\"] == null) return;\r\n                        this.today[widgetID][\"today\"] = new Date(this.today[widgetID][\"prevday\"]);\r\n                        this.viewday[widgetID][\"viewday\"] = new Date(this.viewday[widgetID][\"prevday\"]);\r\n                        this.createWidget(widgetID, view, data, style);\r\n                        return;\r\n                    }\r\n                });\r\n            }\r\n            if (this.visTvprogram.categories.length == 0 || this.visTvprogram.categories[0] === \"request\") return;\r\n            if (this.visTvprogram.channels.length == 0 || this.visTvprogram.channels[0] === \"request\") return;\r\n            if (this.visTvprogram.genres.length == 0 || this.visTvprogram.genres[0] === \"request\") return;\r\n\r\n            if (check(this.visTvprogram.tvprogram[datestring])) return;\r\n\r\n            if (this.viewday[widgetID][\"viewday\"] != this.viewday[widgetID][\"prevday\"]) {\r\n                this.viewday[widgetID][\"prevday\"] = this.viewday[widgetID][\"viewday\"];\r\n            }\r\n\r\n            if (!this.bound[tvprogram_oid]) this.bound[tvprogram_oid] = {};\r\n            if (!this.bound[tvprogram_oid][widgetID]) this.bound[tvprogram_oid][widgetID] = false;\r\n\r\n            if (tvprogram_oid && !this.bound[tvprogram_oid][widgetID]) {\r\n                // eslint-disable-next-line no-constant-condition\r\n                if (1 || !vis.editMode) {\r\n                    this.bound[tvprogram_oid][widgetID] = true;\r\n                    vis.binds[\"tvprogram\"].bindStates($div, [\r\n                        tvprogram_oid + \".config\",\r\n                        tvprogram_oid + \".cmd\",\r\n                        tvprogram_oid + \".favorites\",\r\n                        tvprogram_oid + \".channelfilter\",\r\n                        tvprogram_oid + \".show\",\r\n                    ], this.onChange.bind(this, widgetID, view, data, style, instance)\r\n                    );\r\n                }\r\n            }\r\n\r\n            if (this.onclickChannelSave.name == \"onclickChannelSave\") this.onclickChannelSave = this.onclickChannelSave.bind(this);\r\n\r\n            let channelfilter = this.visTvprogram.getConfigChannelfilter(tvprogram_oid);\r\n            if (channelfilter.length == 0) channelfilter = this.visTvprogram.channels.reduce((acc, el, i) => { if (i < 4) acc.push(el.id); return acc; }, []);\r\n\r\n            const widthitem = this.measures[widgetID].widthItem;\r\n            const widthchannel = this.measures[widgetID].heightRow;\r\n            const heightrow = this.measures[widgetID].heightRow;\r\n\r\n            const backgroundColor = this.visTvprogram.realBackgroundColor($(\"#\" + widgetID)[0]);\r\n            if (this.visTvprogram.checkStyle(\"background-color\", $(\"#\" + widgetID)[0].style.cssText) == \"\") $(\"#\" + widgetID).css(\"background-color\", backgroundColor);\r\n            const widthtvrow = (48 * widthitem) + widthchannel;\r\n            //const scrollbarWidth= this.getScrollbarWidth();\r\n            //const zoompos = (Math.min(Math.floor($(\"#\"+widgetID).height()/heightrow)-1,channelfilter.length))*heightrow;\r\n\r\n            const headerfontpercent = data.tvprogram_headerfontpercent || 125;\r\n            const broadcastfontpercent = data.tvprogram_broadcastfontpercent || 75;\r\n\r\n            let lineheight = 0;\r\n            const widgetheight = $(\"#\" + widgetID).height() - heightrow;\r\n            const contentheight = ((channelfilter.length + 1) * heightrow);\r\n\r\n            if (contentheight < widgetheight) {\r\n                lineheight = contentheight;\r\n            } else {\r\n                lineheight = widgetheight - this.measures[widgetID].scrollbarWidth;\r\n            }\r\n\r\n            let text = \"\";\r\n            text += \"<style> \\n\";\r\n\r\n            text += \"#\" + widgetID + \" * {\\n\";\r\n            text += \"   box-sizing: border-box; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .tv-container {\\n\";\r\n            text += \"   width: 100%; \\n\";\r\n            text += \"   height: 100%; \\n\";\r\n            text += \"   white-space:nowrap; \\n\";\r\n            text += \"   display:flex; \\n\";\r\n            text += \"   flex-direction: column; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .navcontainer {\\n\";\r\n            text += \"   width: 100%; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .scrollcontainer {\\n\";\r\n            text += \"   flex-grow: 1; \\n\";\r\n            text += \"   overflow:auto; \\n\";\r\n            text += \"   width:100%; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .tv-row {\\n\";\r\n            text += \"   margin: 0px; \\n\";\r\n            text += \"   padding: 0px; \\n\";\r\n            text += \"   width: \" + widthtvrow + \"px; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .tv-item {\\n\";\r\n            text += \"   display: inline-block; \\n\";\r\n            text += \"   vertical-align: middle; \\n\";\r\n            text += \"   border: solid #80808033; \\n\";\r\n            text += \"   border-width:1px 0px 0px 1px; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .tv-head-time {\\n\";\r\n            text += \"   position:sticky; \\n\";\r\n            text += \"   position: -webkit-sticky; \\n\";\r\n            text += \"   top:0px; \\n\";\r\n            text += \"   z-index:11; \\n\";\r\n            text += \"   background-color: \" + backgroundColor + \"; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .tv-head-left {\\n\";\r\n            text += \"   position:sticky; \\n\";\r\n            text += \"   position: -webkit-sticky; \\n\";\r\n            text += \"   left:0; \\n\";\r\n            text += \"   z-index:11; \\n\";\r\n            text += \"   background-color: \" + backgroundColor + \"; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" svg rect {\\n\";\r\n            text += \"   fill: \" + $(\"#\" + widgetID).css(\"color\") + \"; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .channel {\\n\";\r\n            text += \"   width: \" + heightrow + \"px; \\n\";\r\n            text += \"   height: \" + heightrow + \"px; \\n\";\r\n            text += \"   padding: 1px; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .time {\\n\";\r\n            text += \"   width: \" + widthitem + \"px; \\n\";\r\n            text += \"   height: \" + heightrow + \"px; \\n\";\r\n            text += \"   font-weight: 700; \\n\";\r\n            text += \"   font-size: \" + headerfontpercent + \"%; \\n\";\r\n            text += \"   padding: 5px 5px; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .time:after {\\n\";\r\n            text += '   content:\"\"; \\n';\r\n            text += \"   display: inline-block; \\n\";\r\n            text += \"   vertical-align:middle; \\n\";\r\n            text += \"   height: 100%; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .time span {\\n\";\r\n            text += \"   vertical-align:middle; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .broadcast {\\n\";\r\n            text += \"   height: \" + heightrow + \"px; \\n\";\r\n            text += \"   padding: 3px; \\n\";\r\n            text += \"   font-size: \" + broadcastfontpercent + \"%; \\n\";\r\n            text += \"   overflow: hidden; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .broadcastelement {\\n\";\r\n            text += \"   width: 100%; \\n\";\r\n            text += \"   height: 100%; \\n\";\r\n            text += \"   display: table-cell; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .broadcastelement.hide {\\n\";\r\n            text += \"   display: none; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .broadcastelement .star  {\\n\";\r\n            text += \"   display: inline-block; \\n\";\r\n            text += \"   margin: 0px 2px; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .broadcastelement .star svg {\\n\";\r\n            text += \"   height: 1em; \\n\";\r\n            text += \"   width: 1em; \\n\";\r\n            text += \"   position: relative; \\n\";\r\n            text += \"   top: .125em; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"broadcastdlg .star.selected svg  {\\n\";\r\n            text += \"   filter: drop-shadow( 2px 2px 2px rgba(0, 0, 0, .7))\\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .broadcastelement.selected .star svg path, #\" + widgetID + \"broadcastdlg .star.selected {\\n\";\r\n            text += \"   color: \" + highlightcolor + \"; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .broadcastelement.selected {\\n\";\r\n            text += \"   color: \" + highlightcolor + \"; \\n\";\r\n            text += \"   background-color: \" + this.visTvprogram.colorToRGBA(highlightcolor, \".1\") + \"; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .broadcastimage {\\n\";\r\n            text += \"   height: \" + (heightrow - 7) + \"px; \\n\";\r\n            text += \"   padding-right: 3px; \\n\";\r\n            text += \"   float: left; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .button {\\n\";\r\n            text += \"   display:inline-block; \\n\";\r\n            text += \"   width: \" + heightrow + \"px; \\n\";\r\n            text += \"   height: \" + heightrow + \"px; \\n\";\r\n            text += \"   background-color: \" + backgroundColor + \"; \\n\";\r\n            text += \"   vertical-align: middle; \\n\";\r\n            text += \"   padding: 5px 5px; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .dateinfo {\\n\";\r\n            text += \"   height: \" + heightrow + \"px; \\n\";\r\n            text += \"   padding: 5px 5px; \\n\";\r\n            text += \"   position: absolute; \\n\";\r\n            text += \"   right: 0px; \\n\";\r\n            text += \"   border: 0px; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .dateinfo:after {\\n\";\r\n            text += '   content:\"\"; \\n';\r\n            text += \"   display: inline-block; \\n\";\r\n            text += \"   vertical-align:middle; \\n\";\r\n            text += \"   height: 100%; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .dateinfo span {\\n\";\r\n            text += \"   vertical-align:middle; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \".ui-dialog.\" + widgetID + \" {\\n\";\r\n            text += \"   z-index:12; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \".clearfix {\\n\";\r\n            text += \"   clear:both; \\n\";\r\n            text += '   content:\"\"; \\n';\r\n            text += \"   display:table; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"channeldlg .chselect-container {\\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"channeldlg ul.channel {\\n\";\r\n            text += \"   margin:0px; \\n\";\r\n            text += \"   padding:0px; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"channeldlg .listitem  {\\n\";\r\n            text += \"   float: left; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"channeldlg .listitem .channel {\\n\";\r\n            text += \"   list-style: none; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"channeldlg .items  {\\n\";\r\n            text += \"   list-style: none; \\n\";\r\n            text += \"   margin:0px; \\n\";\r\n            text += \"   padding:0px; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"channeldlg .channel {\\n\";\r\n            text += \"   margin:5px; \\n\";\r\n            text += \"   width: \" + (heightrow * 1.5) + \"px; \\n\";\r\n            text += \"   height: \" + (heightrow * 1.5) + \"px; \\n\";\r\n            text += \"   list-style: none; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"channeldlg .items .channel[selected] {\\n\";\r\n            text += \"   background-color:lightgray; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \".\" + widgetID + \".no-titlebar .ui-dialog-titlebar {\\n\";\r\n            text += \"   display:none; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"broadcastdlg  {\\n\";\r\n            text += \"   z-index:12; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"broadcastdlg .event-container.tv-dlg-row {\\n\";\r\n            text += \"   height:100%; \\n\";\r\n            text += \"   display:flex; \\n\";\r\n            text += \"   flex-direction:row; \\n\";\r\n            text += \"   overflow:hidden; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"broadcastdlg .event-container.tv-dlg-col {\\n\";\r\n            text += \"   height:100%; \\n\";\r\n            text += \"   display:flex; \\n\";\r\n            text += \"   flex-direction:column; \\n\";\r\n            text += \"   overflow:hidden; \\n\";\r\n            text += \"   font-size:75%; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"broadcastdlg .event-picture.tv-dlg-row {\\n\";\r\n            text += \"   width:50%; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"broadcastdlg .event-picture.tv-dlg-col {\\n\";\r\n            text += \"   height:30%; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"broadcastdlg .event-data {\\n\";\r\n            text += \"   overflow-y:auto; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"broadcastdlg .event-picture img {\\n\";\r\n            text += \"   width:auto; \\n\";\r\n            text += \"   height:auto; \\n\";\r\n            text += \"   max-width:100%; \\n\";\r\n            text += \"   max-height:100%; \\n\";\r\n            text += \"   display:block; \\n\";\r\n            text += \"   margin:auto; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"broadcastdlg .event-picture img {\\n\";\r\n            text += \"   width:auto; \\n\";\r\n            text += \"   height:auto; \\n\";\r\n            text += \"   max-width:100%; \\n\";\r\n            text += \"   max-height:100%; \\n\";\r\n            text += \"   display:block; \\n\";\r\n            text += \"   margin:auto; \\n\";\r\n            text += \"} \\n\";\r\n            text += \"#\" + widgetID + \"broadcastdlg .dialogcolumn.tv-dlg-row {\\n\";\r\n            text += \"   flex:1; \\n\";\r\n            text += \"   padding:5px; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"broadcastdlg .dialogcolumn.tv-dlg-col {\\n\";\r\n            text += \"   padding:5px; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \"broadcastdlg .button {\\n\";\r\n            text += \"   display:inline-block; \\n\";\r\n            text += \"   width: 35px; \\n\";\r\n            text += \"   height: 35px; \\n\";\r\n            text += \"   vertical-align: middle; \\n\";\r\n            text += \"   position: relative; \\n\";\r\n            text += \"   float: right; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .tooltip {\\n\";\r\n            text += \"   position: relative; \\n\";\r\n            text += \"} \\n\";\r\n            text += \"#\" + widgetID + \" .tooltip span[role=tooltip] {\\n\";\r\n            text += \"   display: none; \\n\";\r\n            text += \"} \\n\";\r\n\r\n\r\n            text += \"#\" + widgetID + \" .tooltip:hover span[role=tooltip] {\\n\";\r\n            text += \"   display: block; \\n\";\r\n            text += \"   position: absolute; \\n\";\r\n            text += \"   left: 3em; \\n\";\r\n            text += \"   border: 1px solid; \\n\";\r\n            text += \"   font-size: 75%; \\n\";\r\n            text += \"   padding: 0.2em; \\n\";\r\n            text += \"   z-index: 100; \\n\";\r\n            text += \"   background-color: \" + backgroundColor + \"; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .scrollcontainer ul.tv-row:nth-child(odd)> li.broadcast:nth-child(odd),#\" + widgetID + \" ul.tv-row:nth-child(odd)> li.time:nth-child(odd) {\\n\";\r\n            text += \"   background-color: rgba(128, 128, 128, 0.65); \\n\";\r\n            text += \"} \\n\";\r\n            text += \"#\" + widgetID + \" .scrollcontainer ul.tv-row:nth-child(odd)> li.broadcast:nth-child(even),#\" + widgetID + \" ul.tv-row:nth-child(odd)> li.time:nth-child(even) {\\n\";\r\n            text += \"   background-color: rgba(128, 128, 128, 0.55); \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .scrollcontainer ul.tv-row:nth-child(even)> li.broadcast:nth-child(odd) {\\n\";\r\n            text += \"   background-color: rgba(128, 128, 128, 0.45); \\n\";\r\n            text += \"} \\n\";\r\n            text += \"#\" + widgetID + \" .scrollcontainer ul.tv-row:nth-child(even)> li.broadcast:nth-child(even) {\\n\";\r\n            text += \"   background-color: rgba(128, 128, 128, 0.35); \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .line {\\n\";\r\n            text += \"   position: absolute; \\n\";\r\n            text += \"   top: 0; \\n\";\r\n            text += \"   width: 2px; \\n\";\r\n            text += \"   background-color: red; \\n\";\r\n            text += \"   opacity: 0.8; \\n\";\r\n            text += \"   z-index: 10; \\n\";\r\n            text += \"   height: \" + lineheight + \"px; \\n\";\r\n            text += \"   float: left; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .disable-select {\\n\";\r\n            text += \"   -webkit-user-select: none; \\n\";\r\n            text += \"   -moz-user-select: none; \\n\";\r\n            text += \"   -ms-user-select: none; \\n\";\r\n            text += \"   -user-select: none; \\n\";\r\n            text += \"} \\n\";\r\n\r\n            text += \"#\" + widgetID + \" .staricon {\\n\";\r\n            text += '     background-image: url(\"data:image/svg+xml;utf8,<svg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'100%\\' height=\\'100%\\' viewBox=\\'0 0 24 24\\'><path fill=\\'currentColor\\' d=\\'M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z\\' /></svg>\"); \\n';\r\n            text += \"} \\n\";\r\n            //https://mayashavin.com/articles/svg-icons-currentcolor\r\n\r\n            text += \"</style> \\n\";\r\n            text += '  <div class=\"svgcontainer\">';\r\n            text += '<svg style=\"display:none;\"><symbol id=\"star-icon\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z\" /></symbol></svg>';\r\n            // to user : <svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#star-icon\"></use></svg>\r\n            text += '<svg style=\"display:none;\"><symbol id=\"check-icon\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"></path></symbol></svg>';\r\n            // to user : <svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#check-icon\"></use></svg>\r\n            text += '<svg style=\"display:none;\"><symbol id=\"cancel-icon\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"></path></symbol></svg>';\r\n            // to user : <svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#cancel-icon\"></use></svg>\r\n            text += '<svg style=\"display:none;\"><symbol id=\"copy-icon\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\" /></symbol></svg>';\r\n            // to user : <svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#copy-icon\"></use></svg>\r\n            text += '<svg style=\"display:none;\"><symbol id=\"switch-icon\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M21,3H3C1.89,3 1,3.89 1,5V17A2,2 0 0,0 3,19H8V21H16V19H21A2,2 0 0,0 23,17V5C23,3.89 22.1,3 21,3M21,17H3V5H21M16,11L9,15V7\" /></symbol></svg>';\r\n            // to user : <svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#switch-icon\"></use></svg>\r\n            text += '<svg style=\"display:none;\"><symbol id=\"burger-icon\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z\"></path></symbol></svg>';\r\n            // to user : <svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#burger-icon\"></use></svg>\r\n            text += '<svg style=\"display:none;\"><symbol id=\"nav-prevD-icon\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M20,9V15H12V19.84L4.16,12L12,4.16V9H20Z\" /></symbol></svg>';\r\n            // to user : <svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#nav-prevD-icon\"></use></svg>\r\n            text += '<svg style=\"display:none;\"><symbol id=\"nav-center-icon\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9Z\" /></symbol></svg>';\r\n            // to user : <svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#nav-center-icon\"></use></svg>\r\n            text += '<svg style=\"display:none;\"><symbol id=\"nav-nextD-icon\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M4,15V9H12V4.16L19.84,12L12,19.84V15H4Z\" /></symbol></svg>';\r\n            // to user : <svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#nav-nextD-icon\"></use></svg>\r\n            text += '<svg style=\"display:none;\"><symbol id=\"zoom-minus-icon\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M15.5,14H14.71L14.43,13.73C15.41,12.59 16,11.11 16,9.5A6.5,6.5 0 0,0 9.5,3A6.5,6.5 0 0,0 3,9.5A6.5,6.5 0 0,0 9.5,16C11.11,16 12.59,15.41 13.73,14.43L14,14.71V15.5L19,20.5L20.5,19L15.5,14M9.5,14C7,14 5,12 5,9.5C5,7 7,5 9.5,5C12,5 14,7 14,9.5C14,12 12,14 9.5,14M7,9H12V10H7V9Z\" /></symbol></svg>';\r\n            // to user : <svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#zoom-minus-icon\"></use></svg>\r\n            text += '<svg style=\"display:none;\"><symbol id=\"zoom-center-icon\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M19,19H15V21H19A2,2 0 0,0 21,19V15H19M19,3H15V5H19V9H21V5A2,2 0 0,0 19,3M5,5H9V3H5A2,2 0 0,0 3,5V9H5M5,15H3V19A2,2 0 0,0 5,21H9V19H5V15Z\" /></symbol></svg>';\r\n            // to user : <svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#zoom-center-icon\"></use></svg>\r\n            text += '<svg style=\"display:none;\"><symbol id=\"zoom-plus-icon\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M15.5,14L20.5,19L19,20.5L14,15.5V14.71L13.73,14.43C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.43,13.73L14.71,14H15.5M9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14M12,10H10V12H9V10H7V9H9V7H10V9H12V10Z\" /></symbol></svg>';\r\n            // to user : <svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#zoom-plus-icon\"></use></svg>\r\n            text += '<svg style=\"display:none;\"><symbol id=\"record-icon\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M12.5,5A7.5,7.5 0 0,0 5,12.5A7.5,7.5 0 0,0 12.5,20A7.5,7.5 0 0,0 20,12.5A7.5,7.5 0 0,0 12.5,5M7,10H9A1,1 0 0,1 10,11V12C10,12.5 9.62,12.9 9.14,12.97L10.31,15H9.15L8,13V15H7M12,10H14V11H12V12H14V13H12V14H14V15H12A1,1 0 0,1 11,14V11A1,1 0 0,1 12,10M16,10H18V11H16V14H18V15H16A1,1 0 0,1 15,14V11A1,1 0 0,1 16,10M8,11V12H9V11\" /></symbol></svg>';\r\n            // to user : <svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#record-icon\"></use></svg>\r\n            text += '<svg style=\"display:none;\"><symbol id=\"hide-icon\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M2,5.27L3.28,4L20,20.72L18.73,22L15.65,18.92C14.5,19.3 13.28,19.5 12,19.5C7,19.5 2.73,16.39 1,12C1.69,10.24 2.79,8.69 4.19,7.46L2,5.27M12,9A3,3 0 0,1 15,12C15,12.35 14.94,12.69 14.83,13L11,9.17C11.31,9.06 11.65,9 12,9M12,4.5C17,4.5 21.27,7.61 23,12C22.18,14.08 20.79,15.88 19,17.19L17.58,15.76C18.94,14.82 20.06,13.54 20.82,12C19.17,8.64 15.76,6.5 12,6.5C10.91,6.5 9.84,6.68 8.84,7L7.3,5.47C8.74,4.85 10.33,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C12.69,17.5 13.37,17.43 14,17.29L11.72,15C10.29,14.85 9.15,13.71 9,12.28L5.6,8.87C4.61,9.72 3.78,10.78 3.18,12Z\" /></symbol></svg>';\r\n            //text += '<svg style=\"display:none;\"><symbol id=\"hide-icon\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z\" /></symbol></svg>';\r\n            // to user : <svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#hide-icon\"></use></svg>\r\n\r\n            text += \"  </div>\";\r\n\r\n            text += '  <div class=\"navcontainer\">';\r\n            text += '    <ul class=\"tv-row tv-head-top\">';\r\n            text += this.getButtonHeader(datestring).join(\"\");\r\n            text += \"    </ul>\";\r\n            text += \"  </div>\";\r\n            text += '  <div class=\"scrollcontainer\">';\r\n            text += '    <ul class=\"tv-row tv-head-time\">';\r\n            text += '      <div class=\"line\"></div>';\r\n            text += '      <li class=\"tv-item tv-head-left channel\">';\r\n            text += \"      </li>\";\r\n\r\n            text += this.getTimetable().join(\"\");\r\n            text += \"    </ul>\";\r\n            const events = this.getEvents(this.visTvprogram.tvprogram[viewdate], channelfilter);\r\n            events.map(el => {\r\n                text += '    <ul class=\"tv-row\">';\r\n                text += this.getBroadcasts4Channel(el, widgetID, view, viewdate, tvprogram_oid, instance).join(\"\");\r\n                text += \"    </ul>\";\r\n            });\r\n\r\n            $(\"#\" + widgetID + \" .tv-container\").html(text);\r\n\r\n            if (this.visTvprogram.getConfigShow(tvprogram_oid) == 1) {\r\n                $(\"#\" + widgetID + ' .broadcastelement:not(\".selected\") > *').show();\r\n            } else {\r\n                $(\"#\" + widgetID + ' .broadcastelement:not(\".selected\") > *').hide();\r\n            }\r\n\r\n            console.log(\"Display day:\" + datestring);\r\n            $(\"#\" + widgetID + \" .burger\").click(function (widgetID, tvprogram_oid, instance, el) {\r\n                vis.binds.tvprogram.time1.onclickChannel(widgetID, instance, tvprogram_oid, el);\r\n            }.bind(this, widgetID, tvprogram_oid, instance));\r\n\r\n            $(\"#\" + widgetID + \" .button.nav.prevD\").off(\"click.onClickDay\").on(\"click.onClickDay\", this.onClickDay.bind(this, widgetID, view, data, style));\r\n            $(\"#\" + widgetID + \" .button.nav.nextD\").off(\"click.onClickDay\").on(\"click.onClickDay\", this.onClickDay.bind(this, widgetID, view, data, style));\r\n            $(\"#\" + widgetID + \" .button.nav.center\").off(\"click.onClickDay\").on(\"click.onClickDay\", this.onClickDay.bind(this, widgetID, view, data, style));\r\n\r\n            $(\"#\" + widgetID + \" .button.zoom.minus\").off(\"click.onClickZoom\").on(\"click.onClickZoom\", this.onClickZoom.bind(this, widgetID, view, data, style));\r\n            $(\"#\" + widgetID + \" .button.zoom.plus\").off(\"click.onClickZoom\").on(\"click.onClickZoom\", this.onClickZoom.bind(this, widgetID, view, data, style));\r\n            $(\"#\" + widgetID + \" .button.zoom.center\").off(\"click.onClickZoom\").on(\"click.onClickZoom\", this.onClickZoom.bind(this, widgetID, view, data, style));\r\n            $(\"#\" + widgetID + \" .button.hide\").off(\"click.onClickHide\").on(\"click.onClickHide\", this.onClickHide.bind(this, instance, tvprogram_oid, widgetID));\r\n\r\n            $(\"#\" + widgetID + \" .scrollcontainer\").scroll(function (widgetID) {\r\n                if (this.scroll[widgetID].automatic == 0) this.scroll[widgetID].automatic = 2;\r\n                this.scroll[widgetID].time = new Date();\r\n                this.calcScroll(widgetID);\r\n            }.bind(this, widgetID));\r\n            this.visTvprogram.copyStyles(\"font\", $(\"#\" + widgetID).get(0), $(\"#\" + widgetID + \"broadcastdlg\").get(0));\r\n            this.visTvprogram.copyStyles(\"color\", $(\"#\" + widgetID).get(0), $(\"#\" + widgetID + \"broadcastdlg\").get(0));\r\n            this.visTvprogram.copyStyles(\"background-color\", $(\"#\" + widgetID).get(0), $(\"#\" + widgetID + \"broadcastdlg\").get(0));\r\n\r\n            this.updateMarker(widgetID, this.today[widgetID].today);\r\n            if (!this.timer[widgetID]) {\r\n                this.timer[widgetID] = setInterval(this.updateMarker.bind(this, widgetID, this.today[widgetID].today), 15000);\r\n            } else {\r\n                clearInterval(this.timer[widgetID]);\r\n                this.timer[widgetID] = setInterval(this.updateMarker.bind(this, widgetID, this.today[widgetID].today), 15000);\r\n            }\r\n\r\n            if (this.scroll[widgetID].position == 0) {\r\n                this.calcScroll(widgetID);\r\n                this.setScroll(widgetID);\r\n            } else {\r\n                this.setScroll(widgetID);\r\n            }\r\n        },\r\n        onClickHide: function (instance, tvprogram) {\r\n            this.visTvprogram.toggleShow(instance, tvprogram);\r\n        },\r\n        onClickZoom: function (widgetID, view, data, style, el) {\r\n            console.log(\"ClickZoom:\" + $(el.currentTarget).attr(\"class\"));\r\n            if ($(el.currentTarget).hasClass(\"plus\")) this.measures[widgetID].widthItem = this.measures[widgetID].widthItem + (this.measures[widgetID].origwidthItem / 4);\r\n            if ($(el.currentTarget).hasClass(\"minus\")) this.measures[widgetID].widthItem = this.measures[widgetID].widthItem - (this.measures[widgetID].origwidthItem / 4);\r\n            if ($(el.currentTarget).hasClass(\"center\")) this.measures[widgetID].widthItem = this.measures[widgetID].origwidthItem;\r\n            if (this.measures[widgetID].widthItem < 20) this.measures[widgetID].widthItem = this.measures[widgetID].origwidthItem;\r\n            this.calcScroll(widgetID);\r\n            this.createWidget(widgetID, view, data, style);\r\n        },\r\n        onClickDay: function (widgetID, view, data, style, el) {\r\n            console.log(\"ClickNav:\" + $(el.currentTarget).attr(\"class\"));\r\n            let day = 0;\r\n            if ($(el.currentTarget).hasClass(\"prevD\")) day = -1;\r\n            if ($(el.currentTarget).hasClass(\"nextD\")) day = 1;\r\n            if (!$(el.currentTarget).hasClass(\"center\")) {\r\n                this.today[widgetID][\"prevday\"] = new Date(this.today[widgetID][\"today\"]);\r\n                this.today[widgetID][\"today\"] = new Date(this.today[widgetID][\"today\"].setDate(this.today[widgetID][\"today\"].getDate() + day));\r\n            } else {\r\n                this.today[widgetID][\"today\"] = new Date();\r\n                this.scroll[widgetID].position = 0;\r\n            }\r\n            this.scroll[widgetID].time = new Date(0);\r\n            this.createWidget(widgetID, view, data, style);\r\n        },\r\n        calcScroll: function (widgetID) {\r\n            const el = $(\"#\" + widgetID + \" .scrollcontainer\").get(0);\r\n            if (!el) return;\r\n            if (el.scrollLeft == 0 || this.scroll[widgetID].position == 0) {\r\n                this.scroll[widgetID].position = (this.scroll[widgetID].marker) / el.scrollWidth;\r\n            } else {\r\n                this.scroll[widgetID].position = (el.scrollLeft + (el.clientWidth * this.measures[widgetID].markerpositionpercent)) / el.scrollWidth;\r\n            }\r\n        },\r\n        setScroll: function (widgetID) {\r\n            try {\r\n                const el = $(\"#\" + widgetID + \" .scrollcontainer\").get(0);\r\n                if (!el.scrollWidth) return;\r\n                el.scrollLeft = (this.scroll[widgetID].position * el.scrollWidth) - (el.clientWidth * this.measures[widgetID].markerpositionpercent);\r\n            } catch (e) { console.log(e); }\r\n        },\r\n        updateMarker: function (widgetID, today) {\r\n            if (this.scroll[widgetID].automatic == 2 && ((new Date() - this.scroll[widgetID].time) < (90 * 1000))) return;\r\n            this.scroll[widgetID].automatic = 0;\r\n            if (this.visTvprogram.calcDate(today).toLocaleDateString() != this.visTvprogram.calcDate(new Date()).toLocaleDateString()) {\r\n                $(\"#\" + widgetID + \" .line\").hide();\r\n                //return;\r\n            } else {\r\n                $(\"#\" + widgetID + \" .line\").show();\r\n            }\r\n            const wItem = this.measures[widgetID].widthItem;\r\n            const tItem = this.measures[widgetID].timeItem;\r\n            const wChannel = this.measures[widgetID].heightRow;\r\n\r\n            const sTime = new Date(this.visTvprogram.calcDate(new Date()));\r\n            sTime.setHours(5);\r\n            sTime.setMinutes(0);\r\n            sTime.setSeconds(0);\r\n            const eTime = new Date(sTime);\r\n            eTime.setDate(eTime.getDate() + 1);\r\n\r\n            const startTime = new Date();\r\n            const left = (wChannel + Math.floor((startTime - sTime) / 60000 / tItem * wItem * 10) / 10);\r\n            $(\"#\" + widgetID + \" .line\").css(\"left\", left + \"px\");\r\n            this.scroll[widgetID].marker = left;\r\n            this.scroll[widgetID].position = 0;\r\n            this.calcScroll(widgetID);\r\n            if (this.scroll[widgetID].timeout) clearTimeout(this.scroll[widgetID].timeout);\r\n            this.scroll[widgetID].automatic = 1;\r\n            this.scroll[widgetID].timeout = window.setTimeout(function () {\r\n                this.scroll[widgetID].automatic = 0;\r\n                clearTimeout(this.scroll[widgetID].timeout);\r\n                this.scroll[widgetID].timeout = null;\r\n            }.bind(this), 500);\r\n            this.setScroll(widgetID);\r\n\r\n        },\r\n        getScrollbarWidth: function () {\r\n            const scrollDiv = document.createElement(\"div\");\r\n            scrollDiv.className = \"scrollbar-measure\";\r\n            scrollDiv.style.cssText = \"width: 100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;\";\r\n            document.body.appendChild(scrollDiv);\r\n            const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\r\n            document.body.removeChild(scrollDiv);\r\n            return scrollbarWidth;\r\n        },\r\n        getChannels: function (channels, filter = []) {\r\n            const cc = [];\r\n            filter.map(el => {\r\n                const ch = channels.find(el1 => el1.id == el);\r\n                cc.push('<li class=\"listitem channel\" data-order=\"' + ch.order + '\" data-id=\"' + ch.id + '\" selected><img width=\"100%\" height=\"100%\" src=\"https://tvfueralle.de/channel-logos/' + ch.channelId + '.png\" alt=\"\" class=\"channel-logo\"></li>');\r\n            });\r\n            channels.sort((a, b) => (a.order + (filter.indexOf(a.id) == -1) * 100000) - (b.order + (filter.indexOf(b.id) == -1) * 100000)).map(el => {\r\n                //if (filter.findIndex(el1=>el1==el.id)==-1) cc.push('<ul class=\"listitem channel\" data-order=\"'+el.order+'\" data-id=\"'+el.id+'\"><li class=\"channel\"><img width=\"100%\" height=\"100%\" src=\"https://tvfueralle.de/channel-logos/'+el.channelId+'.png\" alt=\"\" class=\"channel-logo\"></li></ul>');\r\n                if (filter.findIndex(el1 => el1 == el.id) == -1) cc.push('<li class=\"listitem channel\" data-order=\"' + el.order + '\" data-id=\"' + el.id + '\"><img width=\"100%\" height=\"100%\" src=\"https://tvfueralle.de/channel-logos/' + el.channelId + '.png\" alt=\"\" class=\"channel-logo\"></li>');\r\n            });\r\n            return cc;\r\n        },\r\n        onclickChannelSave: function (el, save) {\r\n            const widgetID = el.dataset.widgetid;\r\n            if (save) {\r\n                const tvprogram_oid = el.dataset.dp || \"\";\r\n                const instance = el.dataset.instance || \"\";\r\n                this.visTvprogram.setConfigChannelfilter(instance, tvprogram_oid, $(\"#\" + widgetID + \"channeldlg .chselect-container .channel[selected]\").toArray().map(el => parseInt(el.dataset.id)));\r\n            }\r\n            $(\"#\" + widgetID + \"channeldlg\").dialog(\"close\");\r\n        },\r\n        onclickChannel: function (widgetID, instance, tvprogram_oid) {\r\n            let isSorting = false;\r\n            const channels = this.visTvprogram.channels;\r\n            let channelfilter = this.visTvprogram.getConfigChannelfilter(tvprogram_oid);\r\n            if (channelfilter.length == 0) channelfilter = channels.reduce((acc, el, i) => { if (i < 4) acc.push(el.id); return acc; }, []);\r\n\r\n            let text = \"\";\r\n            text += '  <div class=\"chselect-container clearfix\">';\r\n            text += '    <ul class=\"listitem channel\" data-instance=\"' + instance + '\" data-dp=\"' + tvprogram_oid + '\" data-widgetid=\"' + widgetID + '\" onclick=\"vis.binds.tvprogram.time1.onclickChannelSave(this,true)\" ><li class=\"channel\"><svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#check-icon\"></use></svg></li></ul>';\r\n            text += '    <ul class=\"listitem channel\" data-widgetid=\"' + widgetID + '\" onclick=\"vis.binds.tvprogram.time1.onclickChannelSave(this,false)\"><li class=\"channel\"><svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#cancel-icon\"></use></svg></li></ul>';\r\n            text += \"  </div>\";\r\n\r\n            text += '  <div class=\"chselect-container clearfix sortable\">';\r\n            text += '  <ul class=\"items\">';\r\n            text += this.getChannels(channels, channelfilter).join(\"\\n\");\r\n            text += \"  </ul>\";\r\n            text += \"  </div>\";\r\n            $(\"#\" + widgetID + \"channeldlg\").html(text);\r\n            $(\".chselect-container .items .channel\").click(function () {\r\n                console.log(\"channel click\");\r\n                if (isSorting) return;\r\n                const target = $(this).parent().find(\"[selected]\").last();\r\n                if (this.dataset.id) $(this).attr(\"selected\") ? $(this).removeAttr(\"selected\") : $(this).attr(\"selected\", \"\");\r\n                if ($(this).attr(\"selected\")) {\r\n                    $(this).insertAfter(target);\r\n                } else {\r\n                    $(this).parent().children().sort(function (a, b) {\r\n                        return (a.dataset.order + ($(a).attr(\"selected\") != \"selected\") * 100000) - (b.dataset.order + ($(b).attr(\"selected\") != \"selected\") * 100000);\r\n                    }).appendTo($(this).parent());\r\n                }\r\n            });\r\n            $(\".chselect-container.sortable\").sortable({\r\n                items: \".items .channel[selected]\",\r\n                containment: \"parent\",\r\n                revert: true,\r\n                grid: [5, 5],\r\n                opacity: 0.8,\r\n                tolerance: \"pointer\",\r\n                start: function () {\r\n                    isSorting = true;\r\n                },\r\n                stop: function () {\r\n                    isSorting = false;\r\n                }\r\n            });\r\n            $(\"#\" + widgetID + \"channeldlg\").dialog({\r\n                resizable: false,\r\n                autoOpen: false,\r\n                modal: false,\r\n                position: { of: $(\"#\" + widgetID) },\r\n                width: $(\"#\" + widgetID).width() * this.measures[widgetID].dialogwidthpercent,\r\n                height: $(\"#\" + widgetID).height() * this.measures[widgetID].dialogheightpercent,\r\n                dialogClass: \"no-titlebar \" + widgetID,\r\n                zIndex: 10003,\r\n                stack: false\r\n            });\r\n            this.visTvprogram.copyStyles(\"font\", $(\"#\" + widgetID).get(0), $(\"#\" + widgetID + \"channeldlg\").get(0));\r\n            this.visTvprogram.copyStyles(\"color\", $(\"#\" + widgetID).get(0), $(\"#\" + widgetID + \"channeldlg\").get(0));\r\n            this.visTvprogram.copyStyles(\"background-color\", $(\"#\" + widgetID).get(0), $(\"#\" + widgetID + \"channeldlg\").get(0));\r\n            $(\"#\" + widgetID + \"channeldlg\").dialog(\"open\");\r\n        },\r\n        getBroadcasts4Channel: function (el, widgetID, view, viewdate, tvprogram_oid, instance) {\r\n            const wItem = this.measures[widgetID].widthItem;\r\n            const tItem = this.measures[widgetID].timeItem;\r\n            const favorites = this.visTvprogram.getConfigFavorites(tvprogram_oid);\r\n            let favhighlight;\r\n\r\n            const sTime = new Date(el.events[0].airDate);\r\n\r\n            sTime.setHours(5);\r\n            sTime.setMinutes(0);\r\n            const eTime = new Date(sTime);\r\n            eTime.setDate(eTime.getDate() + 1);\r\n            const channel = this.visTvprogram.channels.find(ch => ch.id == el.channel);\r\n\r\n            const aa = [];\r\n            let text = \"\";\r\n            text += '    <li class=\"tv-item tv-head-left channel\">';\r\n            text += '      <img width=\"100%\" height=\"100%\" data-instance=\"' + instance + '\" data-channelid=\"' + channel.channelId + '\" data-dp=\"' + tvprogram_oid + '\" src=\"https://tvfueralle.de/channel-logos/' + channel.channelId + '.png\" alt=\"\" class=\"channel-logo\"  onclick=\"vis.binds.tvprogram.onclickChannelSwitch(this,event)\">';\r\n            text += \"    </li>\";\r\n            aa.push(text);\r\n\r\n            for (let i = 0; i < el.events.length; i++) {\r\n                const event = el.events[i];\r\n                let startTime = new Date(event.startTime);\r\n                let endTime = new Date(event.endTime);\r\n                if (startTime >= eTime) continue;\r\n                if (endTime <= sTime) continue;\r\n                if (i == 0 && startTime > sTime) aa.push('<li class=\"tv-item broadcast\" style=\"left:0px; width:' + ((Math.floor((startTime - sTime) / 60000 / tItem * wItem * 10) / 10)) + 'px;\"></li>');\r\n                if (startTime < sTime) startTime = sTime;\r\n                if (endTime > eTime) endTime = eTime;\r\n                favhighlight = (favorites.indexOf(event.title) > -1);\r\n                text = \"\";\r\n                text += '<li class=\"tv-item broadcast\" style=\"';\r\n                text += \"left:\" + (Math.floor((startTime - sTime) / 60000 / tItem * wItem * 10) / 10) + \"px;\";\r\n                text += \"width:\" + ((Math.floor((endTime - startTime) / 60000 / tItem * wItem * 10) / 10)) + 'px;\">';\r\n                text += '<div class=\"broadcastelement ' + ((favhighlight) ? \"selected\" : \"\") + '\" data-widgetid=\"' + widgetID + '\" data-eventid=\"' + event.id + '\" data-viewdate=\"' + viewdate + '\" data-instance=\"' + instance + '\" data-dp=\"' + tvprogram_oid + '\" data-view=\"' + view + '\" onclick=\"vis.binds.tvprogram.onclickBroadcast(this)\">';\r\n                if (event.photo.url && this.measures[widgetID].showpictures) {\r\n                    text += '<div><img class=\"broadcastimage\" src=\"' + \"https://tvfueralle.de\" + event.photo.url + '\"></div>';\r\n                }\r\n                text += '<div class=\"broadcasttitle\">' + event.title;\r\n                text += '<div class=\"star\" data-viewdate=\"' + viewdate + '\" data-eventid=\"' + event.id + '\" data-dp=\"' + tvprogram_oid + '\" data-instance=\"' + instance + '\" onclick=\"return vis.binds.tvprogram.onclickFavorite(this,event)\"><svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#star-icon\"></use></svg></div>';\r\n                text += \"</div>\";\r\n                text += '<div class=\"broadcasttime\">';\r\n                text += (\"0\" + startTime.getHours()).slice(-2) + \":\" + (\"0\" + startTime.getMinutes()).slice(-2);\r\n                text += \" - \";\r\n                text += (\"0\" + endTime.getHours()).slice(-2) + \":\" + (\"0\" + endTime.getMinutes()).slice(-2);\r\n                text += \"</div></div></li>\";\r\n                aa.push(text);\r\n            }\r\n            let startTime = new Date(el.events[el.events.length - 1].startTime);\r\n            let endTime = new Date(el.events[el.events.length - 1].endTime);\r\n            if (startTime < eTime && endTime < eTime) {\r\n                startTime = endTime;\r\n                endTime = eTime;\r\n                text = \"\";\r\n                text += '<li class=\"tv-item broadcast\" style=\"';\r\n                text += \"left:\" + (Math.floor((startTime - sTime) / 60000 / tItem * wItem * 10) / 10) + \"px;\";\r\n                text += \"width:\" + ((Math.floor((endTime - startTime) / 60000 / tItem * wItem * 10) / 10)) + 'px;\">';\r\n                text += \"</li>\";\r\n                aa.push(text);\r\n            }\r\n            return aa;\r\n        },\r\n        getEvents: function (tvprogram, filter) {\r\n            const tv = [];\r\n            let i;\r\n            tvprogram.map((el) => {\r\n                if ((i = filter.indexOf(el.channel)) > -1) {\r\n                    if (!tv[i]) tv[i] = {};\r\n                    if (!tv[i].events) tv[i].events = [];\r\n                    tv[i].channel = el.channel;\r\n                    tv[i].events.push(el);\r\n                }\r\n            });\r\n            return tv;\r\n        },\r\n        getTimetable: function () {\r\n            const tt = [];\r\n            for (let i = 0; i < 24; i++) {\r\n                tt.push('<li class=\"tv-item time\"><span>' + (\"0\" + i).slice(-2) + \":00</span></li>\");\r\n                tt.push('<li class=\"tv-item time\"><span>' + (\"0\" + i).slice(-2) + \":30</span></li>\");\r\n            }\r\n            return [].concat(tt.slice(10), tt.slice(0, 10));\r\n        },\r\n        getButtonHeader: function (datestring) {\r\n            const hh = [];\r\n            hh.push('<li class=\"tv-item tv-head-topleft tv-head-left button burger tooltip\"><span role=\"tooltip\">Menu</span><svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#burger-icon\"></use></svg></li>');\r\n            hh.push('<li class=\"tv-item button nav prevD tooltip\"><span role=\"tooltip\">Previous day</span><svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#nav-prevD-icon\"></use></svg></li>');\r\n            hh.push('<li class=\"tv-item button nav center tooltip\"><span role=\"tooltip\">Today</span><svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#nav-center-icon\"></use></svg></li>');\r\n            hh.push('<li class=\"tv-item button nav nextD tooltip\"><span role=\"tooltip\">Next day</span><svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#nav-nextD-icon\"></use></svg></li>');\r\n            hh.push('<li class=\"tv-item button zoom minus tooltip\"><span role=\"tooltip\">Zoom in</span><svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#zoom-minus-icon\"></use></svg></li>');\r\n            hh.push('<li class=\"tv-item button zoom center tooltip\"><span role=\"tooltip\">Zoom normal</span><svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#zoom-center-icon\"></use></svg></li>');\r\n            hh.push('<li class=\"tv-item button zoom plus tooltip\"><span role=\"tooltip\">Zoom out</span><svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#zoom-plus-icon\"></use></svg></li>');\r\n            hh.push('<li class=\"tv-item button hide tooltip\"><span role=\"tooltip\">Hide Non-Favorites</span><svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#hide-icon\"></use></svg></li>');\r\n            hh.push('<li class=\"tv-item dateinfo\">' + new Date(datestring).toLocaleDateString(navigator.language, { weekday: \"short\" }) + \", \" + new Date(datestring).toLocaleDateString() + \"</li>\");\r\n            return hh;\r\n        },\r\n        onChange: function (widgetID, view, data, style, instance, e, newVal) {\r\n            const dp = e.type.split(\".\");\r\n            if ((dp[3] == \"config\" || dp[3] == \"favorites\" || dp[3] == \"channelfilter\" || dp[3] == \"show\") && dp[4] == \"val\") {\r\n                console.log(\"changed \" + widgetID + \" type:\" + e.type + \" val:\" + newVal);\r\n                this.createWidget(widgetID, view, data, style);\r\n            }\r\n            if (dp[3] == \"cmd\" && dp[4] == \"val\") {\r\n                if (newVal && newVal != \"\") {\r\n                    console.log(\"changed \" + widgetID + \" type:\" + e.type + \" val:\" + newVal);\r\n                    const obj = newVal.split(\"|\");\r\n                    if (obj[0] == \"new\") {\r\n                        if (obj[1] != \"program\") {\r\n                            this.visTvprogram.getServerData(instance, widgetID, obj[1], function (widgetID, view, data, style, serverdata) {\r\n                                this[obj[1]] = serverdata;\r\n                                this.createWidget(widgetID, view, data, style);\r\n                                return;\r\n                            }.bind(this, widgetID, view, data, style));\r\n                        }\r\n                        if (obj[1] == \"program\") {\r\n                            if (this.tvprogram[obj[2]]) this.visTvprogram.loadProgram(instance, widgetID, obj[2], function (widgetID, view, data, style, datestring, serverdata) {\r\n                                if (serverdata != \"error\" && serverdata != \"nodata\") {\r\n                                    this.tvprogram[datestring] = serverdata;\r\n                                    this.createWidget(widgetID, view, data, style);\r\n                                    return;\r\n                                }\r\n                            }.bind(this, widgetID, view, data, style, obj[2]));\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n    },\r\n    checkStyle: function (attr, str) {\r\n        return str.split(\";\").reduce((acc, el) => el.split(\":\")[0].trim() == attr ? el.split(\":\")[1].trim() : acc, \"\");\r\n    },\r\n    realBackgroundColor: function (elem) {\r\n        const transparent = \"rgba(0, 0, 0, 0)\";\r\n        const transparentIE11 = \"transparent\";\r\n        if (!elem) return transparent;\r\n\r\n        const bg = getComputedStyle(elem).backgroundColor;\r\n        if (bg === transparent || bg === transparentIE11) {\r\n            return this.realBackgroundColor(elem.parentElement);\r\n        } else {\r\n            return bg;\r\n        }\r\n    },\r\n    onclickBroadcast: function (evt) {\r\n        const el = (evt.currentTarget) ? evt.currentTarget : evt;\r\n        const eventid = el.dataset.eventid || 0;\r\n        const widgetID = el.dataset.widgetid || 0;\r\n        const view = el.dataset.view || 0;\r\n        const viewdate = el.dataset.viewdate || 0;\r\n        const instance = el.dataset.instance || \"\";\r\n        const tvprogram_oid = el.dataset.dp || \"\";\r\n        if (eventid == 0 || widgetID == 0) return;\r\n        this.getServerBroadcast(instance, eventid, viewdate, function (widgetID, view, serverdata) {\r\n            const event = serverdata;\r\n            const measures = $(\"#\" + widgetID + \"broadcastdlg\").data();\r\n            const startTime = new Date(event.startTime);\r\n            const endTime = new Date(event.endTime);\r\n            const category = event.content.category ? this.categories.find(el => el.id == event.content.category) : null;\r\n            const channel = event.channel ? this.channels.find(el => el.id == event.channel) : null;\r\n            let channeltime = \"\";\r\n            channeltime += (channel) ? channel.name + \" \" : \"\";\r\n            channeltime += (\"0\" + startTime.getHours()).slice(-2) + \":\" + (\"0\" + startTime.getMinutes()).slice(-2);\r\n            channeltime += \" - \";\r\n            channeltime += (\"0\" + endTime.getHours()).slice(-2) + \":\" + (\"0\" + endTime.getMinutes()).slice(-2);\r\n            let meta = \"\";\r\n            meta += (event.content.country) ? event.content.country + \" \" : \"\";\r\n            meta += (event.content.year) ? event.content.year + \" \" : \"\";\r\n            meta += (category) ? category.title + \" \" : \"\";\r\n            let season = \"\", episode = \"\";\r\n            if (event.content.seasonNumber) {\r\n                season = event.content.seasonNumber;\r\n                season = (season < 100) ? \"S\" + (\"0\" + season).slice(-2) : \"S\" + season;\r\n            }\r\n            if (event.content.episodeNumber) {\r\n                episode = event.content.episodeNumber;\r\n                episode = (episode < 100) ? \"E\" + (\"0\" + episode).slice(-2) : \"E\" + episode;\r\n            }\r\n            meta += (season || episode) ? season + episode + \" \" : \"\";\r\n            const content = (event.content.texts.Long.value) ? event.content.texts.Long.value : (event.content.texts.VeryShort.value) ? event.content.texts.VeryShort.value : \"\";\r\n            const photourl = (event.photo.url) ? \"https://tvfueralle.de\" + event.photo.url : \"https://tvfueralle.de/tv-logo-no-image.svg\";\r\n            const favorites = this.getConfigFavorites(tvprogram_oid);\r\n            const favhighlight = (favorites.indexOf(event.title) > -1);\r\n\r\n            const layout = ($(\"#\" + widgetID).width() * measures.dialogwidthpercent > $(\"#\" + widgetID).height() * measures.dialogheightpercent) ? \" tv-dlg-row\" : \" tv-dlg-col\";\r\n            let text = \"\";\r\n            text += '  <div class=\"event-container' + layout + '\" data-eventid=\"' + event.id + '\">';\r\n            text += '    <div class=\"event-picture dialogcolumn' + layout + '\">';\r\n            text += '    <img src=\"' + photourl + '\">';\r\n            text += \"    </div>\";\r\n            text += '    <div class=\"event-data dialogcolumn' + layout + '\">';\r\n            text += '      <div class=\"buttoncontainer\">';\r\n            text += '          <div class=\"record button\" data-viewdate=\"' + viewdate + '\" data-eventid=\"' + event.id + '\" data-instance=\"' + instance + '\" data-dp=\"' + tvprogram_oid + '\" onclick=\"return vis.binds.tvprogram.onclickRecord(this,event)\"><svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#record-icon\"></use></svg></div>';\r\n            text += '          <div class=\"copy button\" data-widgetid=\"' + widgetID + '\" onclick=\"return vis.binds.tvprogram.onclickCopy(this,event)\"><svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#copy-icon\"></use></svg></div>';\r\n            text += '          <div class=\"star button ' + ((favhighlight) ? \"selected\" : \"\") + '\" data-viewdate=\"' + viewdate + '\" data-eventid=\"' + event.id + '\" data-instance=\"' + instance + '\" data-dp=\"' + tvprogram_oid + '\" onclick=\"return vis.binds.tvprogram.onclickFavorite(this,event)\"><svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#star-icon\"></use></svg></div>';\r\n            if (startTime < new Date() && new Date() < endTime) text += '        <div class=\"channelselect button\" data-instance=\"' + instance + '\" data-dp=\"' + tvprogram_oid + '\" data-channelid=\"' + channel.channelId + '\" onclick=\"vis.binds.tvprogram.onclickChannelSwitch(this,event)\"><svg width=\"100%\" height=\"100%\" ><use xlink:href=\"#switch-icon\"></use></svg></div>';\r\n            text += \"      </div>\";\r\n            text += '      <div style=\"padding: 0px 0px 5px;\">' + channeltime + \"</div>\";\r\n            text += '      <div style=\"font-weight: bold;padding: 0px 0px 5px;\">' + event.title + \"</div>\";\r\n            text += '      <div style=\"padding: 0px 0px 5px;\">' + meta + \"</div>\";\r\n            text += \"      <div>\" + content + \"</div>\";\r\n            text += \"    </div>\";\r\n            text += \"  </div>\";\r\n            text += \"  </div>\";\r\n\r\n            $(\"#\" + widgetID + \"broadcastdlg\").html(text);\r\n            $(\"#\" + widgetID + \"broadcastdlg\").dialog({\r\n                resizable: false,\r\n                autoOpen: false,\r\n                modal: false,\r\n                position: { of: $(\"#\" + widgetID), within: $(\"#\" + widgetID) },\r\n                width: $(\"#\" + widgetID).width() * measures.dialogwidthpercent,\r\n                height: $(\"#\" + widgetID).height() * measures.dialogheightpercent,\r\n                dialogClass: \"no-titlebar \" + widgetID,\r\n                zIndex: 10003,\r\n                stack: false,\r\n                collision: \"none\"\r\n            });\r\n            this.copyStyles(\"font\", $(\"#\" + widgetID).get(0), $(\"#\" + widgetID + \"broadcastdlg\").get(0));\r\n            this.copyStyles(\"color\", $(\"#\" + widgetID).get(0), $(\"#\" + widgetID + \"broadcastdlg\").get(0));\r\n            this.copyStyles(\"background-color\", $(\"#\" + widgetID).get(0), $(\"#\" + widgetID + \"broadcastdlg\").get(0));\r\n            $(\"#\" + widgetID + \"broadcastdlg\").dialog(\"open\");\r\n            $(\"#\" + widgetID + \"broadcastdlg\").click(function () {\r\n                $(\"#\" + widgetID + \"broadcastdlg\").dialog(\"close\");\r\n            });\r\n        }.bind(this, widgetID, view));\r\n    },\r\n    onclickRecord: function (el, evt) {\r\n        const instance = el.dataset.instance || \"\";\r\n        const tvprogram_oid = el.dataset.dp || \"\";\r\n        const eventid = el.dataset.eventid || 0;\r\n        const viewdate = el.dataset.viewdate || 0;\r\n        if (eventid == 0 || viewdate == 0) return;\r\n        this.getServerBroadcast(instance, eventid, viewdate, function (el, serverdata) {\r\n            const event = serverdata;\r\n            const channel = event.channel ? this.channels.find(el => el.id == event.channel) : null;\r\n            const record = {\r\n                startTime: event.startTime,\r\n                endTime: event.endTime,\r\n                title: event.title,\r\n                channel: event.channel,\r\n                channelid: channel.channelId,\r\n                channelname: channel.name,\r\n                eventid: event.id\r\n            };\r\n            //vis.setValue(tvprogram_oid+\".record\",JSON.stringify(record));\r\n            this.setValueAck(instance, tvprogram_oid + \".record\", JSON.stringify(record));\r\n        }.bind(this, el));\r\n        evt.stopPropagation();\r\n    },\r\n    onclickCopy: function (el, evt) {\r\n        const widgetID = el.dataset.widgetid || \"\";\r\n        const aux = document.createElement(\"textarea\");\r\n        aux.value = $(\"#\" + widgetID + \"broadcastdlg .event-data\").get(0).outerText;\r\n        document.body.appendChild(aux);\r\n        aux.focus();\r\n        aux.select();\r\n        document.execCommand(\"copy\");\r\n        document.body.removeChild(aux);\r\n        evt.stopPropagation();\r\n    },\r\n    copyStyles: function (startsWith, from, to) {\r\n        const cssFrom = window.getComputedStyle(from);\r\n        const cssTo = window.getComputedStyle(to);\r\n        for (let i = cssFrom.length; i--;) {\r\n            if (cssFrom[i].startsWith(startsWith)) {\r\n                if (cssFrom.getPropertyValue(cssFrom[i]) != cssTo.getPropertyValue(cssFrom[i])) {\r\n                    to.style.setProperty(cssFrom[i], cssFrom.getPropertyValue(cssFrom[i]));\r\n                }\r\n            }\r\n        }\r\n    },\r\n    colorToRGBA: function (color, alpha = 1) {\r\n        const cvs = document.createElement(\"canvas\");\r\n        cvs.height = 1;\r\n        cvs.width = 1;\r\n        const ctx = cvs.getContext(\"2d\");\r\n        ctx.fillStyle = color;\r\n        ctx.fillRect(0, 0, 1, 1);\r\n        const carr = ctx.getImageData(0, 0, 1, 1).data;\r\n        return \"rgba(\" + carr[0] + \",\" + carr[1] + \",\" + carr[2] + \",\" + alpha + \")\";\r\n    },\r\n    onclickChannelSwitch: function (el, evt) {\r\n        const channelid = el.dataset.channelid || \"\";\r\n        const tvprogram_oid = el.dataset.dp || \"\";\r\n        const instance = el.dataset.instance || \"\";\r\n        //vis.setValue(tvprogram_oid+\".selectchannel\",channelid);\r\n        this.setValueAck(instance, tvprogram_oid + \".selectchannel\", channelid);\r\n        evt.stopPropagation();\r\n    },\r\n    onclickFavorite: function (el, evt) {\r\n        const tvprogram_oid = el.dataset.dp || \"\";\r\n        const instance = el.dataset.instance || \"\";\r\n        const eventid = el.dataset.eventid || 0;\r\n        const viewdate = el.dataset.viewdate || 0;\r\n        if (eventid == 0 || viewdate == 0) return;\r\n        this.getServerBroadcast(instance, eventid, viewdate, function (el, serverdata) {\r\n            const event = serverdata;\r\n            const favorites = this.getConfigFavorites(tvprogram_oid);\r\n            const index = favorites.indexOf(event.title);\r\n            if (index > -1) {\r\n                favorites.splice(index, 1);\r\n                if ($(el).hasClass(\"button\")) $(el).removeClass(\"selected\");\r\n            } else {\r\n                favorites.push(event.title);\r\n                if ($(el).hasClass(\"button\")) $(el).addClass(\"selected\");\r\n            }\r\n            this.setConfigFavorites(instance, tvprogram_oid, favorites);\r\n        }.bind(this, el));\r\n        evt.stopPropagation();\r\n    },\r\n    getConfig: function (tvprogram_oid) {\r\n        let config;\r\n        const attr = vis.states.attr(tvprogram_oid + \".config.val\");\r\n        if (typeof attr !== \"undefined\" && attr !== \"null\" && attr !== \"\") {\r\n            config = JSON.parse(attr);\r\n        } else {\r\n            config = {};\r\n        }\r\n        return config;\r\n    },\r\n    getConfigFavorites: function (tvprogram_oid) {\r\n        let favorites;\r\n        const attr = vis.states.attr(tvprogram_oid + \".favorites.val\");\r\n        if (typeof attr !== \"undefined\" && attr !== \"null\" && attr !== \"\") {\r\n            favorites = JSON.parse(attr);\r\n        } else {\r\n            favorites = [];\r\n        }\r\n        return favorites;\r\n    },\r\n    setConfigFavorites: function (instance, tvprogram_oid, favorites) {\r\n        //vis.setValue(tvprogram_oid+\".favorites\",JSON.stringify(favorites));\r\n        this.setValueAck(instance, tvprogram_oid + \".favorites\", JSON.stringify(favorites));\r\n    },\r\n    getConfigChannelfilter: function (tvprogram_oid) {\r\n        let channelfilter;\r\n        const attr = vis.states.attr(tvprogram_oid + \".channelfilter.val\");\r\n        if (typeof attr !== \"undefined\" && attr !== \"null\" && attr !== \"\") {\r\n            channelfilter = JSON.parse(attr);\r\n        } else {\r\n            channelfilter = [];\r\n        }\r\n        return channelfilter;\r\n    },\r\n    setConfigChannelfilter: function (instance, tvprogram_oid, channelfilter) {\r\n        //vis.setValue(tvprogram_oid+\".channelfilter\",JSON.stringify(channelfilter));\r\n        this.setValueAck(instance, tvprogram_oid + \".channelfilter\", JSON.stringify(channelfilter));\r\n    },\r\n    getConfigShow: function (tvprogram_oid) {\r\n        let show;\r\n        const attr = vis.states.attr(tvprogram_oid + \".show.val\");\r\n        if (typeof attr !== \"undefined\" && attr !== \"null\" && attr !== \"\") {\r\n            show = JSON.parse(attr);\r\n        } else {\r\n            show = 1;\r\n        }\r\n        return show;\r\n    },\r\n    setConfigShow: function (instance, tvprogram_oid, show) {\r\n        //vis.setValue(tvprogram_oid+\".show\",JSON.stringify(show));\r\n        this.setValueAck(instance, tvprogram_oid + \".show\", JSON.stringify(show));\r\n    },\r\n    toggleShow: function (instance, tvprogram_oid) {\r\n        let show = this.getConfigShow(tvprogram_oid);\r\n        if (show == undefined) show = 0;\r\n        show = (show == 1) ? 0 : 1;\r\n        this.setConfigShow(instance, tvprogram_oid, show);\r\n    },\r\n    getServerBroadcast: function (instance, eventid, viewdate, callback) {\r\n        console.log(\"getServerBroadcast request \" + eventid + \".\" + viewdate);\r\n        vis.conn.sendTo(instance, \"getServerBroadcast\", { eventid: eventid, viewdate: viewdate }, function (data) {\r\n            //vis.conn._socket.emit(\"sendTo\", instance, \"getServerBroadcast\", { eventid: eventid, viewdate: viewdate }, function (data) {\r\n            if (data != \"error\" && data != \"nodata\") {\r\n                console.log(\"getServerBroadcast received ok \" + instance + \".\" + viewdate + \".\" + eventid);\r\n            } else {\r\n                console.log(\"getServerBroadcast received \" + data);\r\n            }\r\n            if (callback) callback(data);\r\n        }.bind(this));\r\n    },\r\n    events: {},\r\n    serverdata: {},\r\n    getServerData: function (instance, widgetID, dataname, callback) {\r\n        const that = this;\r\n        const dataid = instance + dataname;\r\n        if (Object.prototype.hasOwnProperty.call(that.serverdata, dataid)) callback(that.serverdata[dataid]);\r\n        if (!Object.prototype.hasOwnProperty.call(that.events, dataid)) that.events[dataid] = [];\r\n        const obj = that.events[dataid];\r\n        if (!obj.find((el) => el.key == widgetID)) obj.push({ key: widgetID, cb: callback });\r\n        vis.conn.sendTo(instance, \"getServerData\", dataname, function (data) {\r\n            if (data != \"error\" && data != \"nodata\") {\r\n                console.log(\"getServerData received \" + instance + \".\" + dataname + \" \" + JSON.stringify(data).substring(0, 100));\r\n            } else {\r\n                console.log(\"getServerData received err \" + data);\r\n            }\r\n            that.serverdata[dataid] = data;\r\n            if (!Object.prototype.hasOwnProperty.call(that.events, dataid)) return;\r\n            const obj = that.events[dataid];\r\n            for (let i = 0; i < obj.length; i++) {\r\n                obj[i].cb(data);\r\n            }\r\n            delete that.events[dataid];\r\n        });\r\n    },\r\n    getServerTVProgram: function (instance, widgetID, dataname, callback) {\r\n        const name = instance + \"program.\" + dataname;\r\n        if (Object.prototype.hasOwnProperty.call(this.serverdata, name)) callback(this.serverdata[name]);\r\n        if (Object.prototype.hasOwnProperty.call(this.events, name)) {\r\n            if (!this.events[name].find((el) => el.key == widgetID)) this.events[name].push({ key: widgetID, cb: callback });\r\n            return;\r\n        } else {\r\n            this.events[name] = [{ key: widgetID, cb: callback }];\r\n        }\r\n        vis.conn.sendTo(instance, \"getServerTVProgram\", dataname, function (data) {\r\n            // vis.conn._socket.emit(\"sendTo\", instance, \"getServerTVProgram\", dataname, function (data) {\r\n            if (data != \"error\" && data != \"nodata\") {\r\n                console.log(\"getServerTVProgram received \" + instance + \".\" + dataname + \"nodata\");\r\n            } else {\r\n                console.log(\"getServerTVProgram received \" + instance + \".\" + dataname + \" ok\");\r\n                this.serverdata[name] = data;\r\n            }\r\n            if (!Object.prototype.hasOwnProperty.call(this.events, name)) return;\r\n            for (let i = 0; i < this.events[name].length; i++) {\r\n                this.events[name][i].cb(data);\r\n            }\r\n            delete this.events[name];\r\n        }.bind(this));\r\n    },\r\n    getFavoritesData: function (instance, favorites = [], callback) {\r\n        console.log(\"getFavoritesData request \" + instance + \".favorites\");\r\n        vis.conn.sendTo(instance, \"getFavoritesDatax\", favorites, (data) => {\r\n            // vis.conn._socket.emit(\"sendTo\", instance, \"getFavoritesDatax\", favorites, (data) => {\r\n            if (data != \"error\" && data != \"nodata\") {\r\n                console.log(\"getFavoritesData received ok \" + data.length);\r\n            } else {\r\n                console.log(\"getFavoritesData received \" + instance + \".favorites\");\r\n            }\r\n            if (callback) callback(data);\r\n        });\r\n    },\r\n    getServerInfo: function (instance, callback) {\r\n        console.log(\"getServerInfo request \");\r\n        vis.conn.sendTo(instance, \"getServerInfo\", {}, (data) => {\r\n            //vis.conn._socket.emit(\"sendTo\", instance, \"getServerInfo\", {}, (data) => {\r\n            console.log(\"getFavoritesData received ok \");\r\n            if (callback) callback(data);\r\n        });\r\n    },\r\n    getServerBroadcastNow: function (instance, channelfilter, callback) {\r\n        console.log(\"getServerBroadcastNow request \");\r\n        vis.conn.sendTo(instance, \"getServerBroadcastNow\", channelfilter, function (data) {\r\n            //vis.conn._socket.emit(\"sendTo\", instance, \"getServerBroadcastNow\", channelfilter, function (data) {\r\n            if (data != \"error\" && data != \"nodata\") {\r\n                console.log(\"getServerBroadcastNow received ok \" + data.length);\r\n            } else {\r\n                console.log(\"getServerBroadcastNow received \");\r\n            }\r\n            if (callback) callback(data);\r\n        }.bind(this));\r\n    },\r\n    getServerBroadcastDate: function (instance, channelfilter, date, callback) {\r\n        console.log(\"getServerBroadcastDate request \");\r\n        vis.conn.sendTo(instance, \"getServerBroadcastDate\", { channelfilter: channelfilter, date: date }, function (data) {\r\n            //vis.conn._socket.emit(\"sendTo\", instance, \"getServerBroadcastDate\", { channelfilter: channelfilter, date: date }, function (data) {\r\n            if (data != \"error\" && data != \"nodata\") {\r\n                console.log(\"getServerBroadcastDate received ok \" + data.length);\r\n            } else {\r\n                console.error(\"getServerBroadcastDate received \" + data);\r\n            }\r\n            if (callback) callback(data);\r\n        }.bind(this));\r\n    },\r\n    getServerBroadcastFind: function (instance, obj, callback) {\r\n        console.log(\"getServerBroadcastFind request \");\r\n        vis.conn.sendTo(instance, \"getServerBroadcastFind\", obj, function (data) {\r\n            //vis.conn._socket.emit(\"sendTo\", instance, \"getServerBroadcastFind\", obj, function (data) {\r\n            if (data != \"error\" && data != \"nodata\") {\r\n                console.log(\"getServerBroadcastFind received ok \" + data.length);\r\n            } else {\r\n                console.log(\"getServerBroadcastFind received \");\r\n            }\r\n            const serverdata = [];\r\n            data.map(ch => {\r\n                ch.events.map(event => serverdata.push(event));\r\n            });\r\n            data = serverdata.sort((a, b) => new Date(a.startTime) - new Date(b.startTime));\r\n            if (callback) callback(data);\r\n        }.bind(this));\r\n    },\r\n    setValueAck: function (instance, id, value) {\r\n        console.log(\"setValueAck request \");\r\n        vis.conn.sendTo(instance, \"setValueAck\", { id: id, value: value }, function () {\r\n            //vis.conn._socket.emit(\"sendTo\", instance, \"setValueAck\", { id: id, value: value }, function () {\r\n        }.bind(this));\r\n    },\r\n    loadServerInfos: function (instance, callback, force = false) {\r\n        if (this.infos != null || force) return;\r\n        this.infos = [];\r\n        this.getServerInfo(instance, function (serverdata) {\r\n            this.infos = serverdata;\r\n            callback(serverdata);\r\n        }.bind(this));\r\n    },\r\n    loadCategories: function (instance, widgetID, callback, force = false) {\r\n        if (this.categories != null && this.categories[0] !== \"request\" || force) return;\r\n        this.categories = [\"request\"];\r\n        this.getServerData(instance, widgetID, \"categories\", function (serverdata) {\r\n            this.categories = serverdata;\r\n            callback(serverdata);\r\n        }.bind(this));\r\n    },\r\n    loadChannels: function (instance, widgetID, callback, force = false) {\r\n        if (this.channels != null && this.channels[0] !== \"request\" || force) return;\r\n        this.channels = [\"request\"];\r\n        this.getServerData(instance, widgetID, \"channels\", function (serverdata) {\r\n            this.channels = serverdata;\r\n            callback(serverdata);\r\n        }.bind(this));\r\n    },\r\n    loadGenres: function (instance, widgetID, callback, force = false) {\r\n        if (this.genres != null && this.genres[0] !== \"request\" || force) return;\r\n        this.genres = [\"request\"];\r\n        this.getServerData(instance, widgetID, \"genres\", function (serverdata) {\r\n            this.genres = serverdata;\r\n            callback(serverdata);\r\n        }.bind(this));\r\n    },\r\n    loadProgram: function (instance, widgetID, datestring, callback, force = false) {\r\n        if (!this.tvprogram[datestring]) this.tvprogram[datestring] = null;\r\n        if (this.tvprogram[datestring] != null || force) return;\r\n        this.tvprogram[datestring] = [];\r\n        this.getServerTVProgram(instance, widgetID, datestring, function (datestring, serverdata) {\r\n            if (serverdata != \"error\" && serverdata != \"nodata\") this.tvprogram[datestring] = serverdata;\r\n            callback(datestring, serverdata);\r\n        }.bind(this, datestring));\r\n    },\r\n    calcDate: function (datum) {\r\n        const d = new Date(datum);\r\n        const time = d.getHours() + d.getMinutes() / 60;\r\n        if (time >= 0 && time < 5) d.setDate(d.getDate() - 1);\r\n        return d;\r\n    },\r\n    getDate: function (d, add) {\r\n        const d1 = new Date(d);\r\n        d1.setDate(d1.getDate() + add);\r\n        return d1.getFullYear() + \"-\" + (\"0\" + (d1.getMonth() + 1)).slice(-2) + \"-\" + (\"0\" + (d1.getDate())).slice(-2);\r\n    },\r\n    compareDate: function (adate, bdate) {\r\n        return adate.getDate() == bdate.getDate() &&\r\n            adate.getMonth() == bdate.getMonth() &&\r\n            adate.getYear() == bdate.getYear();\r\n    },\r\n    getTvprogramId: function (tvprogram_oid) {\r\n        let idParts = tvprogram_oid.split(\".\");\r\n        if (idParts.length < 2) return \"\";\r\n        idParts = idParts.slice(0, 3);\r\n        return idParts.join(\".\");\r\n    },\r\n    getInstance: function (tvprogram_oid) {\r\n        let idParts = tvprogram_oid.split(\".\");\r\n        if (idParts.length < 2) return \"\";\r\n        idParts = idParts.slice(0, 2);\r\n        return idParts.join(\".\");\r\n    },\r\n    bindStates: function (elem, bound, change_callback) {\r\n        console.log(\"bindStates\");\r\n        const $div = $(elem);\r\n        const boundstates = $div.data(\"bound\");\r\n        if (boundstates) {\r\n            for (let i = 0; i < boundstates.length; i++) {\r\n                vis.states.unbind(boundstates[i], change_callback);\r\n            }\r\n        }\r\n        $div.data(\"bound\", null);\r\n        $div.data(\"bindHandler\", null);\r\n\r\n        vis.conn.gettingStates = 0;\r\n        vis.conn.getStates(bound, function (error, states) {\r\n\r\n            vis.conn.subscribe(bound);\r\n            for (let i = 0; i < bound.length; i++) {\r\n                bound[i] = bound[i] + \".val\";\r\n                vis.states.bind(bound[i], change_callback);\r\n            }\r\n            vis.binds[\"tvprogram\"].updateStates(states);\r\n            $div.data(\"bound\", bound);\r\n            $div.data(\"bindHandler\", change_callback);\r\n        }.bind({ change_callback }));\r\n    },\r\n    updateStates: function (states) {\r\n        for (const id in states) {\r\n            if (!Object.prototype.hasOwnProperty.call(states, id)) {\r\n                continue;\r\n            }\r\n            const obj = states[id];\r\n            try {\r\n                if (vis.editMode) {\r\n                    vis.states[`${id}.val`] = obj.val;\r\n                    vis.states[`${id}.ts`] = obj.ts;\r\n                    vis.states[`${id}.ack`] = obj.ack;\r\n                    vis.states[`${id}.lc`] = obj.lc;\r\n                    if (obj.q !== undefined && obj.q !== null) {\r\n                        vis.states[`${id}.q`] = obj.q;\r\n                    }\r\n                } else {\r\n                    const oo = {};\r\n                    oo[`${id}.val`] = obj.val;\r\n                    oo[`${id}.ts`] = obj.ts;\r\n                    oo[`${id}.ack`] = obj.ack;\r\n                    oo[`${id}.lc`] = obj.lc;\r\n                    if (obj.q !== undefined && obj.q !== null) {\r\n                        oo[`${id}.q`] = obj.q;\r\n                    }\r\n                    vis.states.attr(oo);\r\n                }\r\n            } catch (e) {\r\n                console.error(`Error: can't create states object for ${id}(${e})`);\r\n            }\r\n        }\r\n    },\r\n};\r\n\r\nvis.binds[\"tvprogram\"].showVersion();\r\n\r\njQuery.fn.mydelay = function (time, type) {\r\n    time = jQuery.fx ? jQuery.fx.speeds[time] || time : time;\r\n    type = type || \"fx\";\r\n\r\n    return this.queue(type, function (next, hooks) {\r\n        const timeout = window.setTimeout(next, time);\r\n        hooks.stop = function () {\r\n            window.clearTimeout(timeout);\r\n        };\r\n    });\r\n};\r\n//https://services.sg1.etvp01.sctv.ch/catalog/tv/channels/list/ids=25;level=enorm;start=202102182000\r\n//https://services.sg2.etvp01.sctv.ch/portfolio/tv/channels\r\n//https://services.sg1.etvp01.sctv.ch/catalog/tv/channels/list/ids=25,656;level=normal;start=202102180500;end=202102190500\r\n//tv.blue.ch\r\n"],
  "mappings": "8RAAA,IAAAA,EAAAC,EAAAC,GAAA,CAaA,MAAM,0CAA0C,EAAE,KAAWC,GAAOC,EAAAF,EAAA,iBAChE,IAAMG,EAAO,MAAMF,EAAI,KAAK,EAE5B,EAAE,OACE,GACA,iBACAE,CACJ,CACJ,EAAC,EACD,EAAE,OACE,GACA,iBACA,CAcA,CACJ,EAGA,IAAI,MAAM,UAAe,CACrB,QAAS,QACT,YAAa,UAAY,CACjB,IAAI,MAAM,UAAa,UACvB,QAAQ,IAAI,sBAAwB,IAAI,MAAM,UAAa,OAAO,EAClE,IAAI,MAAM,UAAa,QAAU,KAEzC,EACA,QAAS,CAAC,EACV,WAAY,KACZ,SAAU,KACV,OAAQ,KACR,UAAW,CAAC,EACZ,MAAO,KACP,SAAU,CAAC,EACX,OAAQ,CACJ,aAAc,KACd,MAAO,CAAC,EACR,WAAY,CAAC,EACb,aAAc,CAAC,EACf,aAAc,SAAUC,EAAUC,EAAMC,EAAMC,EAAO,CACjD,IAAMC,EAAO,EAAE,IAAMJ,CAAQ,EAE7B,GAAI,CAACI,EAAK,OACN,OAAO,WAAW,UAAY,CAC1B,IAAI,MAAM,UAAa,OAAO,aAAaJ,EAAUC,EAAMC,EAAMC,CAAK,CAC1E,EAAG,GAAG,EAEV,QAAQ,IAAI,oBAAoB,EAEhC,KAAK,aAAe,IAAI,MAAM,UAC9B,IAAIE,EACAC,EAEJ,GADI,CAACJ,EAAK,gBAAkBG,EAAgB,IAAI,MAAM,UAAa,eAAeH,EAAK,cAAc,KAAK,CAAC,IAAM,IAC7G,CAACA,EAAK,gBAAkBI,EAAW,IAAI,MAAM,UAAa,YAAYJ,EAAK,cAAc,KAAK,CAAC,IAAM,GAAO,OAEhH,IAAMK,EAAkB,KAAK,aAAa,oBAAoB,EAAE,IAAMP,CAAQ,EAAE,CAAC,CAAC,EAC9E,KAAK,aAAa,WAAW,mBAAoB,EAAE,IAAMA,CAAQ,EAAE,CAAC,EAAE,MAAM,OAAO,GAAK,IAAI,EAAE,IAAMA,CAAQ,EAAE,IAAI,mBAAoBO,CAAe,EAEzJ,IAAMC,EAAa,SAASN,EAAK,oBAAoB,GAAK,GACpDO,EAAY,SAASP,EAAK,mBAAmB,GAAK,GAClDQ,EAAuB,SAASR,EAAK,8BAA8B,GAAK,GACxES,EAAiBT,EAAK,0BAA4B,SAClDU,EAAeV,EAAK,wBAA0B,GAE9CW,EAAqBX,EAAK,6BAA+B,KAAO,GAChEY,EAAsBZ,EAAK,8BAAgC,KAAO,GA0CxE,GAxCK,KAAK,aAAaG,CAAa,IAAG,KAAK,aAAaA,CAAa,EAAI,CAAC,GACtE,KAAK,aAAaA,CAAa,EAAEL,CAAQ,IAAG,KAAK,aAAaK,CAAa,EAAEL,CAAQ,EAAI,CAAC,GAE1F,KAAK,WAAWK,CAAa,IAAG,KAAK,WAAWA,CAAa,EAAI,CAAC,GAClE,KAAK,WAAWA,CAAa,EAAEL,CAAQ,IAAG,KAAK,WAAWK,CAAa,EAAEL,CAAQ,EAAI,CACtF,SAAU,IAAI,KAAK,EAAE,YAAY,EAAE,MAAM,GAAG,EAAE,CAAC,EAC/C,eAAgB,GAChB,WAAY,GACZ,WAAYQ,GAAc,EAC9B,GAEK,KAAK,MAAMH,CAAa,IAAG,KAAK,MAAMA,CAAa,EAAI,CAAC,GACxD,KAAK,MAAMA,CAAa,EAAEL,CAAQ,IAAG,KAAK,MAAMK,CAAa,EAAEL,CAAQ,EAAI,IAE5EK,GAAiB,CAAC,KAAK,MAAMA,CAAa,EAAEL,CAAQ,IAGhD,KAAK,MAAMK,CAAa,EAAEL,CAAQ,EAAI,GACtC,IAAI,MAAM,UAAa,WAAWI,EAAM,CACpCC,EAAgB,UAChBA,EAAgB,aAChBA,EAAgB,gBACpB,EAAG,KAAK,SAAS,KAAK,KAAML,EAAUC,EAAMC,EAAMC,EAAOE,CAAa,CACtE,GAIJ,KAAK,OAAS,OACd,KAAK,MAAQ,CAAC,EACd,KAAK,aAAa,cAAcC,EAAWS,GAAe,CACtD,KAAK,MAAQA,EACb,KAAK,aAAaf,EAAUC,EAAMC,EAAMC,CAAK,CACjD,CAAC,GAEL,KAAK,aAAa,gBAAgBG,EAAU,IAAM,KAAK,aAAaN,EAAUC,EAAMC,EAAMC,CAAK,CAAC,EAChG,KAAK,aAAa,eAAeG,EAAUN,EAAU,IAAM,KAAK,aAAaA,EAAUC,EAAMC,EAAMC,CAAK,CAAC,EACzG,KAAK,aAAa,aAAaG,EAAUN,EAAU,IAAM,KAAK,aAAaA,EAAUC,EAAMC,EAAMC,CAAK,CAAC,EAEnG,KAAK,aAAa,OAAS,MAAQ,CAAC,OAAO,UAAU,eAAe,KAAK,KAAK,MAAO,WAAW,GAChG,KAAK,aAAa,WAAW,QAAU,GAAK,KAAK,aAAa,WAAW,CAAC,IAAM,WAChF,KAAK,aAAa,SAAS,QAAU,GAAK,KAAK,aAAa,SAAS,CAAC,IAAM,UAAW,OAE3F,IAAIa,EAAoB,KAAK,aAAa,WAAW,IAAKC,GAAQ,kBAAoBA,EAAI,GAAK,MAAS,KAAK,WAAWZ,CAAa,EAAEL,CAAQ,EAAE,gBAAkBiB,EAAI,GAAM,YAAc,IAAM,IAAMA,EAAI,MAAQ,WAAW,EAC9ND,EAAoB,qBAAwB,KAAK,WAAWX,CAAa,EAAEL,CAAQ,EAAE,gBAAkB,GAAM,YAAc,IAAM,aAAegB,EAEhJ,EAAE,IAAMhB,EAAW,cAAc,EAAE,KAAK,CACpC,mBAAoBa,EACpB,oBAAqBC,CACzB,CAAC,EAED,IAAII,EAAO,GACXA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ,aAAeT,EAAY;AAAA,EACnCS,GAAQ,cAAgBT,EAAY;AAAA,EACpCS,GAAQ;AAAA,EACRA,GAAQ,wBAA0BX,EAAkB;AAAA,EACpDW,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ,cAAgBT,EAAY;AAAA,EACpCS,GAAQ;AAAA,EACRA,GAAQ,iBAAmBR,EAAuB;AAAA,EAClDQ,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ,aAAeP,EAAiB;AAAA,EACxCO,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ,aAAeP,EAAiB;AAAA,EACxCO,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ,eAAiBT,EAAY,GAAK;AAAA,EAC1CS,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW,gDAAkDA,EAAW;AAAA,EACtFkB,GAAQ,aAAeP,EAAiB;AAAA,EACxCO,GAAQ;AAAA,EAERA,GAAQ;AAAA,EAERA,GAAQ,+BACRA,GAAQ,6NAERA,GAAQ,mPAERA,GAAQ,oPAERA,GAAQ,4bAERA,GAAQ,WAERA,GAAQ,0BAA4BZ,EAAW,cAAgBD,EAAgB,oBAAsBL,EAAW,sBAAwBQ,EAAa,MACrJU,GAAQ,oCACRA,GAAQ,iEAAmE,KAAK,WAAWb,CAAa,EAAEL,CAAQ,EAAE,WAAa,0BACjIkB,GAAQ,eACRA,GAAQ,gCACRA,GAAQ,+EAAiF,KAAK,MAAM,UAAU,CAAC,EAAI,UAAY,KAAK,MAAM,UAAU,KAAK,MAAM,UAAU,OAAS,CAAC,EAAI,YAAc,KAAK,WAAWb,CAAa,EAAEL,CAAQ,EAAE,SAAW,KACzPkB,GAAQ,eACRA,GAAQ,wCACRA,GAAQ,oDACRA,GAAQF,EACRE,GAAQ,kBACRA,GAAQ,eACRA,GAAQ,4BACRA,GAAQ,YAER,EAAE,IAAMlB,EAAW,WAAW,EAAE,KAAKkB,CAAI,EACzC,EAAE,IAAMlB,EAAW,gBAAgB,EAAE,OAAO,KAAK,eAAe,KAAK,KAAMA,EAAUC,EAAMC,EAAMC,CAAK,CAAC,EAEvG,IAAIgB,EAAcC,EAClBF,EAAO,GACP,IAAMG,EAAY,KAAK,aAAa,mBAAmBhB,CAAa,EACpE,KAAK,aAAaA,CAAa,EAAEL,CAAQ,EAAE,IAAI,CAACsB,EAAOC,IAAM,CACzD,GAAIA,EAAI,EAAIf,EAAY,OACxB,IAAMgB,EAAU,KAAK,aAAa,SAAS,KAAKC,GAAMA,EAAG,IAAMH,EAAM,OAAO,EAC5EH,EAAgBE,EAAU,QAAQC,EAAM,KAAK,EAAI,GACjDF,EAAWE,EAAM,QACjBJ,GAAQ,0BACRA,GAAQ,sCACRA,GAAQ,6DAA+DM,EAAQ,UAAY,cAAgBnB,EAAgB,oBAAsBC,EAAW,8CAAgDkB,EAAQ,UAAY,qGAChON,GAAQ,eACRA,GAAQ,wCACRA,GAAQ,8CAAiDC,EAAgB,WAAa,IAAM,oBAAsBnB,EAAW,mBAAqBsB,EAAM,GAAK,oBAAsBF,EAAW,oBAAsBd,EAAW,cAAgBD,EAAgB,mBAC3PiB,EAAM,MAAM,KAAOV,IACnBM,GAAQ,8DAAqEI,EAAM,MAAM,IAAM,YAEnGJ,GAAQ,gDACRA,GAAQ,wBAA0BI,EAAM,MACxCJ,GAAQ,yDAA2DE,EAAW,mBAAqBE,EAAM,GAAK,oBAAsBhB,EAAW,cAAgBD,EAAgB,sJAC/Ka,GAAQ,0BACR,IAAMQ,EAAY,IAAI,KAAKJ,EAAM,SAAS,EACpCK,EAAU,IAAI,KAAKL,EAAM,OAAO,EACtCJ,GAAQ,+CACRA,IAAS,IAAMQ,EAAU,QAAQ,GAAG,MAAM,EAAE,EAAI,KAAO,IAAM,SAASA,EAAU,SAAS,EAAI,CAAC,GAAG,MAAM,EAAE,EAAI,KAAO,IAAMA,EAAU,YAAY,GAAG,MAAM,EAAE,EAAI,IAC/JR,IAAS,IAAMQ,EAAU,SAAS,GAAG,MAAM,EAAE,EAAI,KAAO,IAAMA,EAAU,WAAW,GAAG,MAAM,EAAE,EAC9FR,GAAQ,MACRA,IAAS,IAAMS,EAAQ,SAAS,GAAG,MAAM,EAAE,EAAI,KAAO,IAAMA,EAAQ,WAAW,GAAG,MAAM,EAAE,EAC1FT,GAAQ,0BACRA,GAAQ,sBACRA,GAAQ,eACRA,GAAQ,WACZ,CAAC,EACD,EAAE,IAAMlB,EAAW,aAAa,EAAE,KAAKkB,CAAI,EAC3C,EAAE,IAAMlB,EAAW,+BAA+B,EAAE,MAAM,IAAI,MAAM,UAAU,iBAAiB,KAAK,KAAK,YAAY,CAAC,CAC1H,EACA,eAAgB,SAAUA,EAAUC,EAAMC,EAAMC,EAAOyB,EAAK,CACxD,IAAMC,EAAKD,EAAI,OACTtB,EAAWuB,EAAG,QAAQ,UAAY,GAClCxB,EAAgBwB,EAAG,QAAQ,IAAM,GAEvCD,EAAI,eAAe,EACnB,IAAME,EAAU,EAAED,CAAE,EAAE,KAAK,mBAAmB,EAAE,IAAI,EAC9CE,EAAY,EAAEF,CAAE,EAAE,KAAK,qBAAqB,EAAE,IAAI,EAClDG,EAAQ,EAAEH,CAAE,EAAE,KAAK,iBAAiB,EAAE,IAAI,EAChD,GAAI,CAAC,KAAK,gBAAgBG,CAAK,EAC3B,MAAO,GAEX,IAAIC,EAAgB,KAAK,aAAa,uBAAuB5B,CAAa,EACtE4B,EAAc,QAAU,IAAGA,EAAgB,KAAK,aAAa,SAAS,OAAO,CAACC,EAAKL,EAAIN,KAAYA,EAAI,GAAGW,EAAI,KAAKL,EAAG,EAAE,EAAUK,GAAQ,CAAC,CAAC,GAE3I,KAAK,WAAW7B,CAAa,IAAG,KAAK,WAAWA,CAAa,EAAI,CAAC,GACvE,KAAK,WAAWA,CAAa,EAAEL,CAAQ,EAAI,OAAO,OAAO,KAAK,WAAWK,CAAa,EAAEL,CAAQ,EAAG,CAC/F,SAAUgC,EACV,eAAgB,CAACD,CAAS,EAC1B,WAAYD,CAChB,CAAC,EACD,IAAMK,EAAQ,IAAI,KACZC,EAAQ,KAAK,gBAAgBJ,CAAK,EACpCG,EAAM,QAAQ,GAAKC,EAAM,QAAQ,GAAKD,EAAM,SAAS,GAAKC,EAAM,SAAS,GAAKD,EAAM,YAAY,GAAKC,EAAM,YAAY,GACvHA,EAAM,SAASD,EAAM,SAAS,CAAC,EAC/BC,EAAM,WAAWD,EAAM,WAAW,CAAC,EACnCC,EAAM,WAAWD,EAAM,WAAW,CAAC,IAEnCC,EAAM,SAAS,CAAC,EAChBA,EAAM,WAAW,CAAC,EAClBA,EAAM,WAAW,CAAC,GAEtB,IAAMC,EAAQ,IAAI,KAAKF,CAAK,EAC5BE,EAAM,QAAQA,EAAM,QAAQ,EAAI,EAAE,EAElC,IAAMC,EAAM,CACR,cAAeL,EACf,SAAUG,EACV,SAAUC,EACV,eAAiBN,GAAa,GAAM,CAAC,EAAI,CAAC,SAASA,CAAS,CAAC,EAC7D,WAAYD,EACZ,WAAY,KAAK,WAAWzB,CAAa,EAAEL,CAAQ,EAAE,UACzD,EACA,OAAI8B,GAAW,IAAMC,GAAa,IAClC,KAAK,aAAa,uBAAuBzB,EAAUgC,EAAK,SAAUvB,EAAY,CAC1E,KAAK,aAAaV,CAAa,EAAEL,CAAQ,EAAIe,EAC7C,KAAK,aAAaf,EAAUC,EAAMC,EAAMC,CAAK,CACjD,EAAE,KAAK,IAAI,CAAC,EACL,EACX,EACA,gBAAiB,SAAUoC,EAAY,CACnC,IAAMC,EAAID,EAAW,MAAM,IAAI,EACzBE,EAAI,IAAI,KAAKD,EAAE,CAAC,EAAG,EAAEA,EAAE,CAAC,EAAGA,EAAE,CAAC,CAAC,EACrC,OAAOC,GAAKA,EAAE,SAAS,GAAKD,EAAE,CAAC,EAAIC,EAAI,EAC3C,EACA,SAAU,SAAUzC,EAAUC,EAAMC,EAAMC,EAAOE,EAAeqC,EAAGC,EAAQ,CACvE,IAAMC,EAAKF,EAAE,KAAK,MAAM,GAAG,GACtBE,EAAG,CAAC,GAAK,UAAYA,EAAG,CAAC,GAAK,aAAeA,EAAG,CAAC,GAAK,iBAAmBA,EAAG,CAAC,GAAK,SAAWA,EAAG,CAAC,GAAK,QACvG,QAAQ,IAAI,WAAa5C,EAAW,SAAW0C,EAAE,KAAO,QAAUC,CAAM,EACxE,KAAK,aAAa3C,EAAUC,EAAMC,EAAMC,CAAK,EAErD,CACJ,EACA,QAAS,CACL,aAAc,KACd,MAAO,CAAC,EACR,YAAa,CAAC,EAEd,UAAW,OACX,MAAO,CAAC,EACR,aAAc,SAAUH,EAAUC,EAAMC,EAAMC,EAAO,CACjD,IAAMC,EAAO,EAAE,IAAMJ,CAAQ,EAE7B,GAAI,CAACI,EAAK,OACN,OAAO,WAAW,UAAY,CAC1B,IAAI,MAAM,UAAa,QAAQ,aAAaJ,EAAUC,EAAMC,EAAMC,CAAK,CAC3E,EAAG,GAAG,EAEV,QAAQ,IAAI,4BAA4B,EAExC,KAAK,aAAe,IAAI,MAAM,UAC9B,IAAIE,EACAC,EAOJ,GANI,CAACJ,EAAK,gBAAkBG,EAAgB,IAAI,MAAM,UAAa,eAAeH,EAAK,cAAc,KAAK,CAAC,IAAM,IAC7G,CAACA,EAAK,gBAAkBI,EAAW,IAAI,MAAM,UAAa,YAAYJ,EAAK,cAAc,KAAK,CAAC,IAAM,KAEzG,KAAK,aAAa,eAAeI,EAAUN,EAAU,IAAM,KAAK,aAAaA,EAAUC,EAAMC,EAAMC,CAAK,CAAC,EACzG,KAAK,aAAa,aAAaG,EAAUN,EAAU,IAAM,KAAK,aAAaA,EAAUC,EAAMC,EAAMC,CAAK,CAAC,EAEnG,KAAK,aAAa,SAAS,QAAU,GAAK,KAAK,aAAa,SAAS,CAAC,IAAM,WAAa,KAAK,aAAa,WAAW,QAAU,GAAK,KAAK,aAAa,WAAW,CAAC,IAAM,WAEzK,OASJ,IAAMI,EAAkB,KAAK,aAAa,oBAAoB,EAAE,IAAMP,CAAQ,EAAE,CAAC,CAAC,EAC9E,KAAK,aAAa,WAAW,mBAAoB,EAAE,IAAMA,CAAQ,EAAE,CAAC,EAAE,MAAM,OAAO,GAAK,IAAI,EAAE,IAAMA,CAAQ,EAAE,IAAI,mBAAoBO,CAAe,EAEzJ,IAAI0B,EAAgB,KAAK,aAAa,uBAAuB5B,CAAa,EACtE4B,EAAc,QAAU,IAAGA,EAAgB,KAAK,aAAa,SAAS,OAAO,CAACC,EAAKL,EAAIN,KAAYA,EAAI,GAAGW,EAAI,KAAKL,EAAG,EAAE,EAAUK,GAAQ,CAAC,CAAC,GAIhJ,IAAMW,EAAO3C,EAAK,gBAAkB,GAmBpC,GAjBK,KAAK,YAAYG,CAAa,IAAG,KAAK,YAAYA,CAAa,EAAI,CAAC,GACpE,KAAK,YAAYA,CAAa,EAAEL,CAAQ,IACzC,KAAK,YAAYK,CAAa,EAAEL,CAAQ,EAAI,CAAC,EACzC6C,GAAQ,IACJ,OAAO,KAAK,KAAK,YAAYxC,CAAa,EAAEL,CAAQ,CAAC,EAAE,QAAU,GAAK,KAAK,YAAYK,CAAa,EAAEL,CAAQ,EAAE,KAAK6B,GAAM,IAAI,KAAKA,EAAG,OAAO,GAAK,IAAI,IAAM,IAAG,KAAK,aAAa,sBAAsBvB,EAAU2B,EAAe,SAAUjC,EAAUC,EAAMC,EAAMC,EAAOY,EAAY,CACpR,KAAK,YAAYV,CAAa,EAAEL,CAAQ,EAAIe,EACxC,KAAK,YAAYV,CAAa,EAAEL,CAAQ,EAAE,OAAS,GAAG,KAAK,aAAaA,EAAUC,EAAMC,EAAMC,CAAK,CAC3G,EAAE,KAAK,KAAMH,EAAUC,EAAMC,EAAMC,CAAK,CAAC,GAErC,OAAO,KAAK,KAAK,YAAYE,CAAa,EAAEL,CAAQ,CAAC,EAAE,QAAU,GAAK,KAAK,YAAYK,CAAa,EAAEL,CAAQ,EAAE,KAAK6B,GAAM,IAAI,KAAKA,EAAG,OAAO,GAAK,IAAI,IAAM,IAAG,KAAK,aAAa,uBAAuBvB,EAAU2B,EAAe,KAAK,UAAUY,CAAI,EAAG,SAAU7C,EAAUC,EAAMC,EAAMC,EAAOY,EAAY,CAC3S,KAAK,YAAYV,CAAa,EAAEL,CAAQ,EAAIe,EACxC,KAAK,YAAYV,CAAa,EAAEL,CAAQ,EAAE,OAAS,GAAG,KAAK,aAAaA,EAAUC,EAAMC,EAAMC,CAAK,CAC3G,EAAE,KAAK,KAAMH,EAAUC,EAAMC,EAAMC,CAAK,CAAC,GAK7C,KAAK,YAAYE,CAAa,EAAEL,CAAQ,GAAK,QAAS,OAErD,KAAK,MAAMK,CAAa,IAAG,KAAK,MAAMA,CAAa,EAAI,CAAC,GACxD,KAAK,MAAMA,CAAa,EAAEL,CAAQ,IAAG,KAAK,MAAMK,CAAa,EAAEL,CAAQ,EAAI,IAE5EK,GAAiB,CAAC,KAAK,MAAMA,CAAa,EAAEL,CAAQ,IAGhD,KAAK,MAAMK,CAAa,EAAEL,CAAQ,EAAI,GACtC,IAAI,MAAM,UAAa,WAAWI,EAAM,CACpCC,EAAgB,UAChBA,EAAgB,aAChBA,EAAgB,gBACpB,EAAG,KAAK,SAAS,KAAK,KAAML,EAAUC,EAAMC,EAAMC,EAAOE,CAAa,CACtE,GAIR,IAAMe,EAAW,KAAK,aAAa,QAAQ,KAAK,aAAa,SAAS,KAAK,UAAUyB,CAAI,CAAC,EAAG,CAAC,EAExFpC,EAAY,SAASP,EAAK,mBAAmB,GAAK,GAClDQ,EAAuB,SAASR,EAAK,8BAA8B,GAAK,GACxES,EAAiBT,EAAK,0BAA4B,SAClDU,EAAeV,EAAK,wBAA0B,GAE9CW,EAAqBX,EAAK,6BAA+B,KAAO,GAChEY,EAAsBZ,EAAK,8BAAgC,KAAO,GACxE,EAAE,IAAMF,EAAW,cAAc,EAAE,KAAK,CACpC,mBAAoBa,EACpB,oBAAqBC,CACzB,CAAC,EAED,IAAII,EAAO,GACXA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ,aAAeT,EAAY;AAAA,EACnCS,GAAQ,cAAgBT,EAAY;AAAA,EACpCS,GAAQ;AAAA,EACRA,GAAQ,wBAA0BX,EAAkB;AAAA,EACpDW,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ,cAAgBT,EAAY;AAAA,EACpCS,GAAQ;AAAA,EACRA,GAAQ,iBAAmBR,EAAuB;AAAA,EAClDQ,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ,aAAeP,EAAiB;AAAA,EACxCO,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ,aAAeP,EAAiB;AAAA,EACxCO,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ,eAAiBT,EAAY,GAAK;AAAA,EAC1CS,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW,gDAAkDA,EAAW;AAAA,EACtFkB,GAAQ,aAAeP,EAAiB;AAAA,EACxCO,GAAQ;AAAA,EAERA,GAAQ;AAAA,EAERA,GAAQ,+BACRA,GAAQ,6NAERA,GAAQ,mPAERA,GAAQ,oPAERA,GAAQ,4bAERA,GAAQ,WAER,IAAIC,EACEE,EAAY,KAAK,aAAa,mBAAmBhB,CAAa,EAEpE,KAAK,YAAYA,CAAa,EAAEL,CAAQ,EAAE,IAAIyB,GAAM,CAChDA,EAAG,OAAO,IAAIH,GAAS,CACnB,IAAME,EAAU,KAAK,aAAa,SAAS,KAAKC,GAAMA,EAAG,IAAMH,EAAM,OAAO,EAC5EH,EAAgBE,EAAU,QAAQC,EAAM,KAAK,EAAI,GACjDJ,GAAQ,0BACRA,GAAQ,sCACRA,GAAQ,6DAA+DM,EAAQ,UAAY,cAAgBnB,EAAgB,8CAAgDmB,EAAQ,UAAY,qGAC/LN,GAAQ,eACRA,GAAQ,wCACRA,GAAQ,8CAAiDC,EAAgB,WAAa,IAAM,oBAAsBnB,EAAW,mBAAqBsB,EAAM,GAAK,oBAAsBF,EAAW,oBAAsBd,EAAW,cAAgBD,EAAgB,gBAAkBJ,EAAO,0DACpRqB,EAAM,MAAM,KAAOV,IACnBM,GAAQ,8DAAqEI,EAAM,MAAM,IAAM,YAEnGJ,GAAQ,gDACRA,GAAQ,wBAA0BI,EAAM,MACxCJ,GAAQ,yDAA2DE,EAAW,mBAAqBE,EAAM,GAAK,oBAAsBhB,EAAW,cAAgBD,EAAgB,sJAC/Ka,GAAQ,0BACR,IAAMQ,EAAY,IAAI,KAAKJ,EAAM,SAAS,EACpCK,EAAU,IAAI,KAAKL,EAAM,OAAO,EACtCJ,GAAQ,+CACRA,IAAS,IAAMQ,EAAU,SAAS,GAAG,MAAM,EAAE,EAAI,KAAO,IAAMA,EAAU,WAAW,GAAG,MAAM,EAAE,EAC9FR,GAAQ,MACRA,IAAS,IAAMS,EAAQ,SAAS,GAAG,MAAM,EAAE,EAAI,KAAO,IAAMA,EAAQ,WAAW,GAAG,MAAM,EAAE,EAC1FT,GAAQ,0BACRA,GAAQ,sBACRA,GAAQ,eACRA,GAAQ,WACZ,CAAC,CACL,CAAC,EACD,EAAE,IAAMlB,EAAW,cAAc,EAAE,KAAKkB,CAAI,EACvC,KAAK,MAAMlB,CAAQ,GASpB,cAAc,KAAK,MAAMA,CAAQ,CAAC,EAClC,KAAK,MAAMA,CAAQ,EAAI,YAAY,IAAM,CACjB,KAAK,YAAYK,CAAa,EAAEL,CAAQ,EAAE,OAAO,CAACkC,EAAKL,KAASK,EAAI,KAAKL,EAAG,OAAO,CAAC,CAAC,EAAUK,GAAQ,CAAC,CAAC,EAC7G,KAAKL,GAAM,IAAI,KAAKA,EAAG,OAAO,GAAK,IAAI,IAAM,IACzD,KAAK,YAAYxB,CAAa,EAAEL,CAAQ,EAAI,CAAC,EAC7C,IAAI,MAAM,UAAa,QAAQ,aAAaA,EAAUC,EAAMC,EAAMC,CAAK,EAE/E,EAAG,IAAO,EAAE,GAfZ,KAAK,MAAMH,CAAQ,EAAI,YAAY,IAAM,CACjB,KAAK,YAAYK,CAAa,EAAEL,CAAQ,EAAE,OAAO,CAACkC,EAAKL,KAASK,EAAI,KAAKL,EAAG,OAAO,CAAC,CAAC,EAAUK,GAAQ,CAAC,CAAC,EAC7G,KAAKL,GAAM,IAAI,KAAKA,EAAG,OAAO,GAAK,IAAI,IAAM,IACzD,KAAK,YAAYxB,CAAa,EAAEL,CAAQ,EAAI,CAAC,EAC7C,IAAI,MAAM,UAAa,QAAQ,aAAaA,EAAUC,EAAMC,EAAMC,CAAK,EAE/E,EAAG,IAAO,EAAE,CAWpB,EACA,UAAW,SAAU0C,EAAM,CACvB,IAAMC,EAAO,IAAI,KAAKD,CAAI,EAC1B,GAAIC,aAAgB,MAAQ,CAAC,MAAMA,CAAI,EAAG,OAAOA,EACjD,GAAID,GAAQ,GAAI,OAAO,IAAI,KAC3B,IAAIE,EAAQF,EAAK,MAAM,GAAG,EACtBG,EAAW,IACXD,EAAM,OAAS,GAAK,SAASA,EAAM,CAAC,EAAE,KAAK,CAAC,EAAI,IAAGC,EAAW,SAASD,EAAM,CAAC,EAAE,KAAK,CAAC,GAC1FA,EAAQA,EAAM,CAAC,EAAE,MAAM,GAAG,EAC1B,IAAME,EAAU,IAAI,KACpBA,EAAQ,SAAS,SAASF,EAAM,CAAC,CAAC,CAAC,EACnCE,EAAQ,WAAW,SAASF,EAAM,CAAC,CAAC,CAAC,EACrCE,EAAQ,WAAW,CAAC,EACpB,IAAMC,EAAY,IAAI,KAAKD,CAAO,EAElC,OADAA,EAAQ,WAAWA,EAAQ,WAAW,EAAID,CAAQ,EAC9C,IAAI,KAASC,EACNC,EAEAA,EAAU,QAAQA,EAAU,QAAQ,EAAI,CAAC,CAExD,EACA,SAAU,SAAUlD,EAAUC,EAAMC,EAAMC,EAAOE,EAAeqC,EAAGC,EAAQ,CACvE,IAAMC,EAAKF,EAAE,KAAK,MAAM,GAAG,GACtBE,EAAG,CAAC,GAAK,UAAYA,EAAG,CAAC,GAAK,aAAeA,EAAG,CAAC,GAAK,iBAAmBA,EAAG,CAAC,GAAK,SAAWA,EAAG,CAAC,GAAK,QACvG,QAAQ,IAAI,WAAa5C,EAAW,SAAW0C,EAAE,KAAO,QAAUC,CAAM,EACxE,KAAK,UAAY,CAAC,EAClB,KAAK,aAAa3C,EAAUC,EAAMC,EAAMC,CAAK,EAErD,CACJ,EACA,UAAW,CACP,aAAc,KACd,QAAS,CAAC,EACV,MAAO,CAAC,EACR,UAAW,OACX,MAAO,CAAC,EACR,aAAc,SAAUH,EAAUC,EAAMC,EAAMC,EAAO,CACjD,IAAMC,EAAO,EAAE,IAAMJ,CAAQ,EAE7B,GAAI,CAACI,EAAK,OACN,OAAO,WAAW,UAAY,CAC1B,IAAI,MAAM,UAAa,UAAU,aAAaJ,EAAUC,EAAMC,EAAMC,CAAK,CAC7E,EAAG,GAAG,EAEV,QAAQ,IAAI,oBAAoB,EAEhC,KAAK,aAAe,IAAI,MAAM,UAE9B,IAAMgD,EAAcjD,EAAK,uBAAyB,GAC5CkD,EAAelD,EAAK,wBAA0B,GAC9CS,EAAiBT,EAAK,0BAA4B,SAClDmD,EAAcnD,EAAK,uBAAyB,GAE9CG,EACAC,EAEEgD,EAAkB,CAAE,QAAS,OAAQ,EACrCC,EAAe,CAAE,MAAO,UAAW,IAAK,SAAU,EAClDC,EAAe,CAAE,KAAM,UAAW,OAAQ,SAAU,EAG1D,GADI,CAACtD,EAAK,gBAAkBG,EAAgB,IAAI,MAAM,UAAa,eAAeH,EAAK,cAAc,KAAK,CAAC,IAAM,IAC7G,CAACA,EAAK,gBAAkBI,EAAW,IAAI,MAAM,UAAa,YAAYJ,EAAK,cAAc,KAAK,CAAC,IAAM,GAAO,OAEhH,IAAMK,EAAkB,KAAK,aAAa,oBAAoB,EAAE,IAAMP,CAAQ,EAAE,CAAC,CAAC,EAC9E,KAAK,aAAa,WAAW,mBAAoB,EAAE,IAAMA,CAAQ,EAAE,CAAC,EAAE,MAAM,OAAO,GAAK,IAAI,EAAE,IAAMA,CAAQ,EAAE,IAAI,mBAAoBO,CAAe,EAEpJ,KAAK,MAAMF,CAAa,IAAG,KAAK,MAAMA,CAAa,EAAI,CAAC,GACxD,KAAK,MAAMA,CAAa,EAAEL,CAAQ,IAAG,KAAK,MAAMK,CAAa,EAAEL,CAAQ,EAAI,IAE5EK,GAAiB,CAAC,KAAK,MAAMA,CAAa,EAAEL,CAAQ,IAGhD,KAAK,MAAMK,CAAa,EAAEL,CAAQ,EAAI,GACtC,IAAI,MAAM,UAAa,WAAWI,EAAM,CACpCC,EAAgB,UAChBA,EAAgB,YACpB,EAAG,KAAK,SAAS,KAAK,KAAML,EAAUC,EAAMC,EAAMC,EAAOE,CAAa,CACtE,GAIR,IAAMgB,EAAY,KAAK,aAAa,mBAAmBhB,CAAa,EAOpE,IALI,CAAC,KAAK,WAAa,CAAC,KAAK,UAAUA,CAAa,GAAKgB,IAAW,KAAK,aAAa,iBAAiBf,EAAUe,EAAW,SAAUrB,EAAUC,EAAMC,EAAMC,EAAOE,EAAeU,EAAY,CACrL,KAAK,YAAW,KAAK,UAAY,CAAC,GACvC,KAAK,UAAUV,CAAa,EAAIU,EAChC,KAAK,aAAaf,EAAUC,EAAMC,EAAMC,CAAK,CACjD,EAAE,KAAK,KAAMH,EAAUC,EAAMC,EAAMC,EAAOE,CAAa,CAAC,EACpD,CAAC,KAAK,WAAa,CAAC,KAAK,UAAUA,CAAa,EAAG,OAEvD,IAAIa,EAAO,GACXA,GAAQ;AAAA,EACRA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ,aAAeP,EAAiB;AAAA,EACxCO,GAAQ;AAAA,EACRA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ;AAAA,EAERA,GAAQ,+BACRA,GAAQ,6NAERA,GAAQ,WAERA,GAAQ,yBACR,KAAK,UAAUb,CAAa,EAAI,KAAK,UAAUA,CAAa,EAAE,OAAQwB,GAAO,IAAI,KAAKA,EAAG,OAAO,GAAK,IAAI,IAAM,EAC/G,KAAK,UAAUxB,CAAa,EAAE,QAAQ,SAAUoD,EAAUC,EAAO,CAC7D,IAAMvB,EAAQ,IAAI,KACZT,EAAY,IAAI,KAAK+B,EAAS,SAAS,EACvC9B,EAAU,IAAI,KAAK8B,EAAS,OAAO,EACrCC,EAAQN,IACP,IAAI,MAAM,UAAa,YAAYjB,EAAOT,CAAS,EAAKR,GAAQ,gCAAkCA,GAAQ,eAC3GA,GAAQ,sCAAwCuC,EAAS,SAAW,mBAAqBA,EAAS,GAAK,oBAAsBnD,EAAW,cAAgBD,EAAgB,6KACpK8C,IAAajC,GAAQ,kCAAoCQ,EAAU,eAAe,IAAI,SAAU4B,CAAe,EAAI,SACvHpC,GAAQ,kCAAoCQ,EAAU,eAAe,IAAI,SAAU6B,CAAY,EAAI,QACnGrC,GAAQ,kCAAoCQ,EAAU,eAAe,IAAI,SAAU8B,CAAY,EAAI,QACnGtC,GAAQ,wCACRA,GAAQ,kCAAoCS,EAAQ,eAAe,IAAI,SAAU6B,CAAY,EAAI,QAC7FH,EACAnC,GAAQ,kCAAoCuC,EAAS,YAAc,SAEnEvC,GAAQ,8CACRA,GAAQ,0FAA4FuC,EAAS,UAAY,gCACzHvC,GAAQ,oBAEZA,GAAQ,kCAAoCuC,EAAS,MAAQ,QAC7DvC,GAAQ,gBAEhB,CAAC,EACDA,GAAQ,uBAER,EAAE,IAAMlB,CAAQ,EAAE,KAAKkB,CAAI,EACtB,KAAK,MAAMlB,CAAQ,GAGpB,cAAc,KAAK,MAAMA,CAAQ,CAAC,EAClC,KAAK,MAAMA,CAAQ,EAAI,YAAY,IAAI,MAAM,UAAa,UAAU,aAAa,KAAK,KAAMA,EAAUC,EAAMC,EAAMC,CAAK,EAAG,IAAO,EAAE,GAHnI,KAAK,MAAMH,CAAQ,EAAI,YAAY,IAAI,MAAM,UAAa,UAAU,aAAa,KAAK,KAAMA,EAAUC,EAAMC,EAAMC,CAAK,EAAG,IAAO,EAAE,CAK3I,EACA,SAAU,SAAUH,EAAUC,EAAMC,EAAMC,EAAOE,EAAeqC,EAAGC,EAAQ,CACvE,IAAMC,EAAKF,EAAE,KAAK,MAAM,GAAG,GACtBE,EAAG,CAAC,GAAK,UAAYA,EAAG,CAAC,GAAK,aAAeA,EAAG,CAAC,GAAK,iBAAmBA,EAAG,CAAC,GAAK,SAAWA,EAAG,CAAC,GAAK,QACvG,QAAQ,IAAI,WAAa5C,EAAW,SAAW0C,EAAE,KAAO,QAAUC,CAAM,EACxE,KAAK,UAAY,CAAC,EAClB,KAAK,aAAa3C,EAAUC,EAAMC,EAAMC,CAAK,EAErD,CACJ,EACA,MAAO,CACH,aAAc,KACd,UAAW,CAAC,EACZ,MAAO,CAAC,EACR,MAAO,CAAC,EACR,QAAS,CAAC,EACV,SAAU,CAAC,EACX,OAAQ,CAAC,EACT,MAAO,CAAC,EACR,QAAS,CAAC,EACV,QAAS,CAAC,EACV,aAAc,SAAUH,EAAUC,EAAMC,EAAMC,EAAO,CACjD,IAAMC,EAAO,EAAE,IAAMJ,CAAQ,EAE7B,GAAI,CAACI,EAAK,OACN,OAAO,WAAW,UAAY,CAC1B,IAAI,MAAM,UAAa,MAAM,aAAaJ,EAAUC,EAAMC,EAAMC,CAAK,CACzE,EAAG,GAAG,EAEV,QAAQ,IAAI,sBAAwBH,CAAQ,EAC5C,IAAIK,EACAC,EAKJ,GAFA,KAAK,aAAe,IAAI,MAAM,UAC1B,CAACJ,EAAK,gBAAkBG,EAAgB,IAAI,MAAM,UAAa,eAAeH,EAAK,cAAc,KAAK,CAAC,IAAM,IAC7G,CAACA,EAAK,gBAAkBI,EAAW,IAAI,MAAM,UAAa,YAAYJ,EAAK,cAAc,KAAK,CAAC,IAAM,GAAO,OAEhH,IAAMS,EAAiBT,EAAK,0BAA4B,SACnD,KAAK,QAAQF,CAAQ,IAAG,KAAK,QAAQA,CAAQ,EAAIE,IAClD,CAAC,KAAK,SAASF,CAAQ,GAAM,KAAK,UAAU,KAAK,QAAQA,CAAQ,CAAC,GAAK,KAAK,UAAUE,CAAI,KAAI,KAAK,SAASF,CAAQ,EAAI,CACxH,cAAe,SAASE,EAAK,mBAAmB,GAAK,IACrD,SAAU,GACV,UAAW,SAASA,EAAK,mBAAmB,GAAK,GACjD,eAAgB,KAAK,kBAAkB,EACvC,sBAAuBA,EAAK,gCAAkC,KAAO,IACrE,mBAAoBA,EAAK,6BAA+B,KAAO,GAC/D,oBAAqBA,EAAK,8BAAgC,KAAO,GACjE,aAAcA,EAAK,wBAA0B,EACjD,GACA,EAAE,IAAMF,EAAW,cAAc,EAAE,KAAK,CACpC,mBAAoB,KAAK,SAASA,CAAQ,EAAE,mBAC5C,oBAAqB,KAAK,SAASA,CAAQ,EAAE,mBACjD,CAAC,EACI,KAAK,SAASA,CAAQ,EAAE,YAAW,KAAK,SAASA,CAAQ,EAAE,UAAY,KAAK,SAASA,CAAQ,EAAE,iBAE7F,KAAK,OAAS,CAAC,GAAGA,CAAQ,GAAK,CAAC,GAAG,SAAS,EAAE,IAAMA,EAAW,gBAAgB,EAAE,KAAK,uBAAuB,EAEpH,KAAK,aAAa,eAAeM,EAAUN,EAAU,IAAM,KAAK,aAAaA,EAAUC,EAAMC,EAAMC,CAAK,CAAC,EACzG,KAAK,aAAa,aAAaG,EAAUN,EAAU,IAAM,KAAK,aAAaA,EAAUC,EAAMC,EAAMC,CAAK,CAAC,EACvG,KAAK,aAAa,WAAWG,EAAUN,EAAU,IAAM,KAAK,aAAaA,EAAUC,EAAMC,EAAMC,CAAK,CAAC,EAErG,SAASwD,EAAMC,EAAM,CAEjB,MADI,CAACA,GACD,OAAO,KAAKA,CAAI,GAAK,CAE7B,CAEK,KAAK,MAAM5D,CAAQ,IAAG,KAAK,MAAMA,CAAQ,EAAI,CAAE,MAAO,IAAI,KAAQ,QAAS,IAAK,GAChF,KAAK,OAAOA,CAAQ,IAAG,KAAK,OAAOA,CAAQ,EAAI,CAAE,KAAM,IAAI,KAAK,CAAC,EAAG,SAAU,EAAG,OAAQ,EAAG,QAAS,KAAM,UAAW,CAAE,GAE7H,IAAMyC,EAAI,KAAK,aAAa,SAAS,KAAK,MAAMzC,CAAQ,EAAE,KAAK,EACzDuC,EAAa,KAAK,aAAa,QAAQE,EAAG,CAAC,EAC5C,KAAK,QAAQzC,CAAQ,IAAG,KAAK,QAAQA,CAAQ,EAAI,CAAE,QAASuC,EAAY,QAAS,IAAK,GAC3F,KAAK,QAAQvC,CAAQ,EAAE,QAAUuC,EAEjC,IAAMnB,EAAW,KAAK,aAAa,QAAQqB,EAAG,CAAC,EAoB/C,GAlBIkB,EAAM,KAAK,UAAUpB,CAAU,CAAC,GAChC,KAAK,aAAa,YAAYjC,EAAUN,EAAUuC,EAAY,CAACA,EAAYxB,IAAe,CACtF,GAAIA,GAAc,SAAWA,GAAc,SAAU,CACjD,KAAK,aAAaf,EAAUC,EAAMC,EAAMC,CAAK,EAC7C,MACJ,KAAO,CACH,GAAI,KAAK,MAAMH,CAAQ,EAAE,SAAc,KAAM,OAC7C,KAAK,MAAMA,CAAQ,EAAE,MAAW,IAAI,KAAK,KAAK,MAAMA,CAAQ,EAAE,OAAU,EACxE,KAAK,QAAQA,CAAQ,EAAE,QAAa,IAAI,KAAK,KAAK,QAAQA,CAAQ,EAAE,OAAU,EAC9E,KAAK,aAAaA,EAAUC,EAAMC,EAAMC,CAAK,EAC7C,MACJ,CACJ,CAAC,EAED,KAAK,aAAa,WAAW,QAAU,GAAK,KAAK,aAAa,WAAW,CAAC,IAAM,WAChF,KAAK,aAAa,SAAS,QAAU,GAAK,KAAK,aAAa,SAAS,CAAC,IAAM,WAC5E,KAAK,aAAa,OAAO,QAAU,GAAK,KAAK,aAAa,OAAO,CAAC,IAAM,WAExEwD,EAAM,KAAK,aAAa,UAAUpB,CAAU,CAAC,EAAG,OAEhD,KAAK,QAAQvC,CAAQ,EAAE,SAAc,KAAK,QAAQA,CAAQ,EAAE,UAC5D,KAAK,QAAQA,CAAQ,EAAE,QAAa,KAAK,QAAQA,CAAQ,EAAE,SAG1D,KAAK,MAAMK,CAAa,IAAG,KAAK,MAAMA,CAAa,EAAI,CAAC,GACxD,KAAK,MAAMA,CAAa,EAAEL,CAAQ,IAAG,KAAK,MAAMK,CAAa,EAAEL,CAAQ,EAAI,IAE5EK,GAAiB,CAAC,KAAK,MAAMA,CAAa,EAAEL,CAAQ,IAGhD,KAAK,MAAMK,CAAa,EAAEL,CAAQ,EAAI,GACtC,IAAI,MAAM,UAAa,WAAWI,EAAM,CACpCC,EAAgB,UAChBA,EAAgB,OAChBA,EAAgB,aAChBA,EAAgB,iBAChBA,EAAgB,OACpB,EAAG,KAAK,SAAS,KAAK,KAAML,EAAUC,EAAMC,EAAMC,EAAOG,CAAQ,CACjE,GAIJ,KAAK,mBAAmB,MAAQ,uBAAsB,KAAK,mBAAqB,KAAK,mBAAmB,KAAK,IAAI,GAErH,IAAI2B,EAAgB,KAAK,aAAa,uBAAuB5B,CAAa,EACtE4B,EAAc,QAAU,IAAGA,EAAgB,KAAK,aAAa,SAAS,OAAO,CAACC,EAAKL,EAAIN,KAAYA,EAAI,GAAGW,EAAI,KAAKL,EAAG,EAAE,EAAUK,GAAQ,CAAC,CAAC,GAEhJ,IAAM2B,EAAY,KAAK,SAAS7D,CAAQ,EAAE,UACpC8D,EAAe,KAAK,SAAS9D,CAAQ,EAAE,UACvCS,EAAY,KAAK,SAAST,CAAQ,EAAE,UAEpCO,EAAkB,KAAK,aAAa,oBAAoB,EAAE,IAAMP,CAAQ,EAAE,CAAC,CAAC,EAC9E,KAAK,aAAa,WAAW,mBAAoB,EAAE,IAAMA,CAAQ,EAAE,CAAC,EAAE,MAAM,OAAO,GAAK,IAAI,EAAE,IAAMA,CAAQ,EAAE,IAAI,mBAAoBO,CAAe,EACzJ,IAAMwD,EAAc,GAAKF,EAAaC,EAIhCE,EAAoB9D,EAAK,6BAA+B,IACxDQ,EAAuBR,EAAK,gCAAkC,GAEhE+D,EAAa,EACXC,EAAe,EAAE,IAAMlE,CAAQ,EAAE,OAAO,EAAIS,EAC5C0D,GAAkBlC,EAAc,OAAS,GAAKxB,EAEhD0D,EAAgBD,EAChBD,EAAaE,EAEbF,EAAaC,EAAe,KAAK,SAASlE,CAAQ,EAAE,eAGxD,IAAIkB,EAAO,GACXA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ,aAAe6C,EAAa;AAAA,EACpC7C,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ,wBAA0BX,EAAkB;AAAA,EACpDW,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ,wBAA0BX,EAAkB;AAAA,EACpDW,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ,YAAc,EAAE,IAAMlB,CAAQ,EAAE,IAAI,OAAO,EAAI;AAAA,EACvDkB,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ,aAAeT,EAAY;AAAA,EACnCS,GAAQ,cAAgBT,EAAY;AAAA,EACpCS,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ,aAAe2C,EAAY;AAAA,EACnC3C,GAAQ,cAAgBT,EAAY;AAAA,EACpCS,GAAQ;AAAA,EACRA,GAAQ,iBAAmB8C,EAAoB;AAAA,EAC/C9C,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ,cAAgBT,EAAY;AAAA,EACpCS,GAAQ;AAAA,EACRA,GAAQ,iBAAmBR,EAAuB;AAAA,EAClDQ,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW,gDAAkDA,EAAW;AAAA,EACtFkB,GAAQ,aAAeP,EAAiB;AAAA,EACxCO,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ,aAAeP,EAAiB;AAAA,EACxCO,GAAQ,wBAA0B,KAAK,aAAa,YAAYP,EAAgB,IAAI,EAAI;AAAA,EACxFO,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ,eAAiBT,EAAY,GAAK;AAAA,EAC1CS,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ,aAAeT,EAAY;AAAA,EACnCS,GAAQ,cAAgBT,EAAY;AAAA,EACpCS,GAAQ,wBAA0BX,EAAkB;AAAA,EACpDW,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ,cAAgBT,EAAY;AAAA,EACpCS,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,cAAgBlB,EAAW;AAAA,EACnCkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ,aAAgBT,EAAY,IAAO;AAAA,EAC3CS,GAAQ,cAAiBT,EAAY,IAAO;AAAA,EAC5CS,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EAERA,GAAQ,IAAMlB,EAAW;AAAA,EACzBkB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",
  "names": ["require_tvprogram", "__commonJSMin", "exports", "res", "__async", "i18n", "widgetID", "view", "data", "style", "$div", "tvprogram_oid", "instance", "backgroundColor", "maxresults", "heightrow", "broadcastfontpercent", "highlightcolor", "showpictures", "dialogwidthpercent", "dialogheightpercent", "serverdata", "categoriesoptions", "cat", "text", "favhighlight", "viewdate", "favorites", "event", "i", "channel", "ch", "startTime", "endTime", "evt", "el", "isearch", "icategory", "ifrom", "channelfilter", "acc", "today", "dFrom", "dTill", "obj", "datestring", "b", "d", "e", "newVal", "dp", "time", "date", "iTime", "duration", "endDate", "startDate", "showweekday", "maxfavorites", "channelname", "weekday_options", "date_options", "time_options", "favorite", "index", "check", "prop", "widthitem", "widthchannel", "widthtvrow", "headerfontpercent", "lineheight", "widgetheight", "contentheight", "tvprogram", "day", "wItem", "tItem", "wChannel", "sTime", "eTime", "left", "scrollDiv", "scrollbarWidth", "channels", "filter", "cc", "el1", "a", "save", "isSorting", "target", "aa", "tv", "tt", "hh", "attr", "str", "elem", "transparent", "transparentIE11", "bg", "eventid", "measures", "category", "channeltime", "meta", "season", "episode", "content", "photourl", "layout", "record", "aux", "startsWith", "from", "to", "cssFrom", "cssTo", "color", "alpha", "cvs", "ctx", "carr", "channelid", "config", "show", "callback", "dataname", "that", "dataid", "name", "id", "value", "force", "datum", "add", "d1", "adate", "bdate", "idParts", "bound", "change_callback", "boundstates", "error", "states", "oo", "type", "next", "hooks", "timeout"]
}
